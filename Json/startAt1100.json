{"issues": [{"key": "SPARK-20101", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20101/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 26 18:18:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-26T18:18:09.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Use OffHeapColumnVector when \"spark.memory.offHeap.enabled\" is set to \"true\"", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-26 18:18:02.756", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Kazuaki Ishizaki", "name": "kiszk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kiszk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kiszk&avatarId=25635", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kiszk&avatarId=25635", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kiszk&avatarId=25635", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kiszk&avatarId=25635"}, "emailAddress": "ishizaki at jp dot ibm dot com", "key": "kiszk", "active": true, "timeZone": "Asia/Tokyo"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kazuaki Ishizaki", "name": "kiszk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kiszk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kiszk&avatarId=25635", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kiszk&avatarId=25635", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kiszk&avatarId=25635", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kiszk&avatarId=25635"}, "emailAddress": "ishizaki at jp dot ibm dot com", "key": "kiszk", "active": true, "timeZone": "Asia/Tokyo"}, "created": "2017-03-26T17:40:05.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3ct2v:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20101/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "While {{ColumnVector}} has two implementations {{OnHeapColumnVector}} and {{OffHeapColumnVector}}, only {{OnHeapColumnVector}} is used.\r\nThis JIRA enables to use {{OffHeapColumnVector}} when {{spark.memory.offHeap.enabled}} is set to {{true}}.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059228", "id": "13059228", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20100", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20100/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 28 02:08:08 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-28T02:08:08.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Herman van Hovell", "name": "hvanhovell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hvanhovell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hvanhovell at databricks dot com", "key": "hvanhovell", "active": true, "timeZone": "Europe/Amsterdam"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Consolidate SessionState construction", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_2874687_*|*_3_*:*_1_*:*_143998346_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-26 10:08:03.083", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Herman van Hovell", "name": "hvanhovell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hvanhovell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hvanhovell at databricks dot com", "key": "hvanhovell", "active": true, "timeZone": "Europe/Amsterdam"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Herman van Hovell", "name": "hvanhovell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hvanhovell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hvanhovell at databricks dot com", "key": "hvanhovell", "active": true, "timeZone": "Europe/Amsterdam"}, "created": "2017-03-26T09:20:15.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3csyv:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-28T02:08:08.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20100/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "The current SessionState initialization path is quite complex. A part of the creation is done in the SessionState companion objects, a part of the creation is one inside the SessionState class, and a part is done by passing functions.\r\n\r\nThe proposal is to consolidate the SessionState initialization into a builder class. This SessionState will not do any initialization and just becomes a place holder for the various Spark SQL internals. The advantages of this approach are the following:\r\n- SessionState initialization is less dispersed. The builder should be a one stop shop.\r\n- This provides us with a start for removing the HiveSessionState. Removing the hive session state would also require us to move resource loading into a separate class, and to (re)move metadata hive.\r\n- It is easier to customize the Spark Session. You just need to create a custom version of the builder. I will add hooks to make this easier. Opening up these API's will happen at a later point.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059210", "id": "13059210", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20099", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20099/votes", "votes": 1}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 26 00:23:05 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-26T00:23:05.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Add transformSchema to pyspark.ml", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12499042", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "Python meta-algorithms in Scala"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12973153", "id": "12973153", "key": "SPARK-15574"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12499042"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "created": "2017-03-26T00:22:40.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cssv:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20099/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Python's ML API currently lacks the PipelineStage abstraction.  This abstraction's main purpose is to provide transformSchema() for checking for early failures in a Pipeline.\r\n\r\nAs mentioned in https://github.com/apache/spark/pull/17218 it would also be useful in Python for checking Params in Python wrapper for Scala implementations; in these, transformSchema would involve passing Params in Python to Scala, which would then be able to validate the Param values.  This could prevent late failures from bad Param settings in Pipeline execution, while still allowing us to check Param values on only the Scala side.\r\n\r\nThis issue is for adding transformSchema() to pyspark.ml.  If it's reasonable, we could create a PipelineStage abstraction.  But it'd probably be fine to add transformSchema() directly to Transformer and Estimator, rather than creating PipelineStage.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059183", "id": "13059183", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20098", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20098/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 26 18:17:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-26T18:17:10.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "DataType's typeName method returns with 'StructF' in case of StructField", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-26 18:17:03.633", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Peter Szalai", "name": "szalai1", "self": "https://issues.apache.org/jira/rest/api/2/user?username=szalai1", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "peter dot szalai at prezi dot com", "key": "szalai1", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Peter Szalai", "name": "szalai1", "self": "https://issues.apache.org/jira/rest/api/2/user?username=szalai1", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "peter dot szalai at prezi dot com", "key": "szalai1", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T14:00:31.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3csjj:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20098/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "Currently, if you want to get the name of a DateType and the DateType is a `StructField`, you get `StructF`. \r\n\r\nhttp://spark.apache.org/docs/2.1.0/api/python/_modules/pyspark/sql/types.html ", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059141", "id": "13059141", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20097", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20097/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Apr 11 07:12:09 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-22T14:29:06.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Benjamin Fradet", "name": "BenFradet", "self": "https://issues.apache.org/jira/rest/api/2/user?username=BenFradet", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=benfradet&avatarId=22859", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=benfradet&avatarId=22859", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=benfradet&avatarId=22859", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=benfradet&avatarId=22859"}, "emailAddress": "benjamin dot fradet at gmail dot com", "key": "benfradet", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Fix visibility discrepancy with numInstances and degreesOfFreedom in LR and GLR", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_184463_*|*_3_*:*_1_*:*_1450620021_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-25 12:15:04.164", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Benjamin Fradet", "name": "BenFradet", "self": "https://issues.apache.org/jira/rest/api/2/user?username=BenFradet", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=benfradet&avatarId=22859", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=benfradet&avatarId=22859", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=benfradet&avatarId=22859", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=benfradet&avatarId=22859"}, "emailAddress": "benjamin dot fradet at gmail dot com", "key": "benfradet", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Benjamin Fradet", "name": "BenFradet", "self": "https://issues.apache.org/jira/rest/api/2/user?username=BenFradet", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=benfradet&avatarId=22859", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=benfradet&avatarId=22859", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=benfradet&avatarId=22859", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=benfradet&avatarId=22859"}, "emailAddress": "benjamin dot fradet at gmail dot com", "key": "benfradet", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T12:12:05.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3cshz:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-04-11T07:12:09.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20097/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "- numInstances is public in lr and regression private in glr\r\n- degreesOfFreedom is private in lr and public in glr", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059134", "id": "13059134", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20096", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20096/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 30 15:11:18 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-30T15:11:27.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Kent Yao", "name": "Qin Yao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=Qin+Yao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10432", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432"}, "emailAddress": "11215016 at zju dot edu dot cn", "key": "qin yao", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Expose the real queue name not null while using --verbose", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_563923_*|*_3_*:*_1_*:*_443891420_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-25 11:45:58.019", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Kent Yao", "name": "Qin Yao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=Qin+Yao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10432", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432"}, "emailAddress": "11215016 at zju dot edu dot cn", "key": "qin yao", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kent Yao", "name": "Qin Yao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=Qin+Yao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10432", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432"}, "emailAddress": "11215016 at zju dot edu dot cn", "key": "qin yao", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-25T11:43:43.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3csh3:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-30T15:11:18.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20096/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "while submit apps with -v or --verbose\uff0c we can print the right queue name, but if we set a queue name with `spark.yarn.queue` by --conf or in the spark-default.conf, we just got `null` for the queue in Parsed arguments.\r\n{code}\r\nbin/spark-shell -v --conf spark.yarn.queue=thequeue\r\nUsing properties file: /home/hadoop/spark-2.1.0-bin-apache-hdp2.7.3/conf/spark-defaults.conf\r\n....\r\nAdding default property: spark.yarn.queue=default\r\nParsed arguments:\r\n  master                  yarn\r\n  deployMode              client\r\n  ...\r\n  queue                   null\r\n  ....\r\n  verbose                 true\r\nSpark properties used, including those specified through\r\n --conf and those from the properties file /home/hadoop/spark-2.1.0-bin-apache-hdp2.7.3/conf/spark-defaults.conf:\r\n  spark.yarn.queue -> thequeue\r\n  ....\r\n{code}", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324804", "description": "Spark's submission gateway and launcher library", "id": "12324804", "name": "Spark Submit"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059130", "id": "13059130", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20095", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20095/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "2017-03-25 09:02:06.0", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-01T11:45:44.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "A code bug in CodegenContext.withSubExprEliminationExprs", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "song fengfei", "name": "sff", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sff", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "1007793236 at qq dot com", "key": "sff", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "song fengfei", "name": "sff", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sff", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "1007793236 at qq dot com", "key": "sff", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T09:02:06.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3csfb:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20095/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "In the function:CodegenContext.withSubExprEliminationExprs...{\r\n  val oldsubExprEliminationExprs = subExprEliminationExprs\r\n   subExprEliminationExprs.clear\r\n  ...\r\n// Restore previous subExprEliminationExprs\r\n    subExprEliminationExprs.clear\r\n    oldsubExprEliminationExprs.foreach(subExprEliminationExprs += _)\r\n}\r\nit seems that the oldsubExprEliminationExprs  and subExprEliminationExprs are the same instance,after the second subExprEliminationExprs.clear ,the oldsubExprEliminationExprs is also cleared,so,the  previous subExprEliminationExprs in CodegenContext will not be  Restored.\r\nIs it a bug?", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059122", "id": "13059122", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20094", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20094/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Mar 25 07:37:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-28T11:43:22.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Zhenhua Wang", "name": "ZenWzh", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ZenWzh", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wzh_zju at 163 dot com", "key": "zenwzh", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Should Prevent push down of IN subquery to Join operator", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_291758_*|*_3_*:*_1_*:*_273973031_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-25 07:37:02.622", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Zhenhua Wang", "name": "ZenWzh", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ZenWzh", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wzh_zju at 163 dot com", "key": "zenwzh", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Zhenhua Wang", "name": "ZenWzh", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ZenWzh", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wzh_zju at 163 dot com", "key": "zenwzh", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T07:32:17.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3csdr:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-28T11:43:22.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20094/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "ReorderJoin collects all predicates and try to put them into join condition when creating ordered join. If a predicate with an IN subquery is in a join condition instead of a filter condition, `RewritePredicateSubquery.rewriteExistentialExpr` would fail to convert the subquery to an ExistenceJoin, and thus result in error.\r\n\r\nFor example, tpcds q45 fails due to the above reason:\r\n{noformat}\r\nspark-sql> explain codegen\r\n         > SELECT\r\n         >   ca_zip,\r\n         >   ca_city,\r\n         >   sum(ws_sales_price)\r\n         > FROM web_sales, customer, customer_address, date_dim, item\r\n         > WHERE ws_bill_customer_sk = c_customer_sk\r\n         >   AND c_current_addr_sk = ca_address_sk\r\n         >   AND ws_item_sk = i_item_sk\r\n         >   AND (substr(ca_zip, 1, 5) IN\r\n         >   ('85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792')\r\n         >   OR\r\n         >   i_item_id IN (SELECT i_item_id\r\n         >   FROM item\r\n         >   WHERE i_item_sk IN (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\r\n         >   )\r\n         > )\r\n         >   AND ws_sold_date_sk = d_date_sk\r\n         >   AND d_qoy = 2 AND d_year = 2001\r\n         > GROUP BY ca_zip, ca_city\r\n         > ORDER BY ca_zip, ca_city\r\n         > LIMIT 100;\r\n17/03/25 15:27:02 ERROR SparkSQLDriver: Failed in [explain codegen              \r\nSELECT\r\n  ca_zip,\r\n  ca_city,\r\n  sum(ws_sales_price)\r\nFROM web_sales, customer, customer_address, date_dim, item\r\nWHERE ws_bill_customer_sk = c_customer_sk\r\n  AND c_current_addr_sk = ca_address_sk\r\n  AND ws_item_sk = i_item_sk\r\n  AND (substr(ca_zip, 1, 5) IN\r\n  ('85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792')\r\n  OR\r\n  i_item_id IN (SELECT i_item_id\r\n  FROM item\r\n  WHERE i_item_sk IN (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\r\n  )\r\n)\r\n  AND ws_sold_date_sk = d_date_sk\r\n  AND d_qoy = 2 AND d_year = 2001\r\nGROUP BY ca_zip, ca_city\r\nORDER BY ca_zip, ca_city\r\nLIMIT 100]\r\njava.lang.UnsupportedOperationException: Cannot evaluate expression: list#1 []\r\n\tat org.apache.spark.sql.catalyst.expressions.Unevaluable$class.doGenCode(Expression.scala:224)\r\n\tat org.apache.spark.sql.catalyst.expressions.ListQuery.doGenCode(subquery.scala:262)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:104)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:101)\r\n\tat scala.Option.getOrElse(Option.scala:121)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:101)\r\n\tat org.apache.spark.sql.catalyst.expressions.In$$anonfun$3.apply(predicates.scala:199)\r\n\tat org.apache.spark.sql.catalyst.expressions.In$$anonfun$3.apply(predicates.scala:199)\r\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n\tat scala.collection.immutable.List.foreach(List.scala:381)\r\n\tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n\tat scala.collection.immutable.List.map(List.scala:285)\r\n\tat org.apache.spark.sql.catalyst.expressions.In.doGenCode(predicates.scala:199)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:104)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:101)\r\n\tat scala.Option.getOrElse(Option.scala:121)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:101)\r\n\tat org.apache.spark.sql.catalyst.expressions.Or.doGenCode(predicates.scala:379)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:104)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:101)\r\n\tat scala.Option.getOrElse(Option.scala:121)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:101)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.getJoinCondition(BroadcastHashJoinExec.scala:174)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.codegenInner(BroadcastHashJoinExec.scala:199)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doConsume(BroadcastHashJoinExec.scala:82)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.ProjectExec.consume(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doConsume(basicPhysicalOperators.scala:68)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.consume(BroadcastHashJoinExec.scala:38)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.codegenInner(BroadcastHashJoinExec.scala:215)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doConsume(BroadcastHashJoinExec.scala:82)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.ProjectExec.consume(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doConsume(basicPhysicalOperators.scala:68)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.joins.SortMergeJoinExec.consume(SortMergeJoinExec.scala:36)\r\n\tat org.apache.spark.sql.execution.joins.SortMergeJoinExec.doProduce(SortMergeJoinExec.scala:601)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.joins.SortMergeJoinExec.produce(SortMergeJoinExec.scala:36)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doProduce(basicPhysicalOperators.scala:46)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.ProjectExec.produce(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doProduce(BroadcastHashJoinExec.scala:77)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.produce(BroadcastHashJoinExec.scala:38)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doProduce(basicPhysicalOperators.scala:46)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.ProjectExec.produce(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doProduce(BroadcastHashJoinExec.scala:77)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.produce(BroadcastHashJoinExec.scala:38)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doProduce(basicPhysicalOperators.scala:46)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.ProjectExec.produce(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.aggregate.HashAggregateExec.doProduceWithKeys(HashAggregateExec.scala:600)\r\n\tat org.apache.spark.sql.execution.aggregate.HashAggregateExec.doProduce(HashAggregateExec.scala:148)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.aggregate.HashAggregateExec.produce(HashAggregateExec.scala:38)\r\n\tat org.apache.spark.sql.execution.WholeStageCodegenExec.doCodeGen(WholeStageCodegenExec.scala:329)\r\n\tat org.apache.spark.sql.execution.debug.package$$anonfun$codegenString$3.apply(package.scala:66)\r\n\tat org.apache.spark.sql.execution.debug.package$$anonfun$codegenString$3.apply(package.scala:62)\r\n\tat scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)\r\n\tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n\tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:732)\r\n\tat org.apache.spark.sql.execution.debug.package$.codegenString(package.scala:62)\r\n\tat org.apache.spark.sql.execution.command.ExplainCommand.run(commands.scala:116)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:58)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:56)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.executeCollect(commands.scala:67)\r\n\tat org.apache.spark.sql.Dataset.<init>(Dataset.scala:183)\r\n\tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:68)\r\n\tat org.apache.spark.sql.SparkSession.sql(SparkSession.scala:617)\r\n\tat org.apache.spark.sql.SQLContext.sql(SQLContext.scala:688)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLDriver.run(SparkSQLDriver.scala:62)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.processCmd(SparkSQLCLIDriver.scala:335)\r\n\tat org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:376)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver$.main(SparkSQLCLIDriver.scala:247)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.main(SparkSQLCLIDriver.scala)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:739)\r\n\tat org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:178)\r\n\tat org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:203)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:117)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\njava.lang.UnsupportedOperationException: Cannot evaluate expression: list#1 []\r\n\tat org.apache.spark.sql.catalyst.expressions.Unevaluable$class.doGenCode(Expression.scala:224)\r\n\tat org.apache.spark.sql.catalyst.expressions.ListQuery.doGenCode(subquery.scala:262)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:104)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:101)\r\n\tat scala.Option.getOrElse(Option.scala:121)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:101)\r\n\tat org.apache.spark.sql.catalyst.expressions.In$$anonfun$3.apply(predicates.scala:199)\r\n\tat org.apache.spark.sql.catalyst.expressions.In$$anonfun$3.apply(predicates.scala:199)\r\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n\tat scala.collection.immutable.List.foreach(List.scala:381)\r\n\tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n\tat scala.collection.immutable.List.map(List.scala:285)\r\n\tat org.apache.spark.sql.catalyst.expressions.In.doGenCode(predicates.scala:199)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:104)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:101)\r\n\tat scala.Option.getOrElse(Option.scala:121)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:101)\r\n\tat org.apache.spark.sql.catalyst.expressions.Or.doGenCode(predicates.scala:379)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:104)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$anonfun$genCode$2.apply(Expression.scala:101)\r\n\tat scala.Option.getOrElse(Option.scala:121)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:101)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.getJoinCondition(BroadcastHashJoinExec.scala:174)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.codegenInner(BroadcastHashJoinExec.scala:199)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doConsume(BroadcastHashJoinExec.scala:82)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.ProjectExec.consume(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doConsume(basicPhysicalOperators.scala:68)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.consume(BroadcastHashJoinExec.scala:38)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.codegenInner(BroadcastHashJoinExec.scala:215)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doConsume(BroadcastHashJoinExec.scala:82)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.ProjectExec.consume(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doConsume(basicPhysicalOperators.scala:68)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.consume(WholeStageCodegenExec.scala:153)\r\n\tat org.apache.spark.sql.execution.joins.SortMergeJoinExec.consume(SortMergeJoinExec.scala:36)\r\n\tat org.apache.spark.sql.execution.joins.SortMergeJoinExec.doProduce(SortMergeJoinExec.scala:601)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.joins.SortMergeJoinExec.produce(SortMergeJoinExec.scala:36)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doProduce(basicPhysicalOperators.scala:46)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.ProjectExec.produce(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doProduce(BroadcastHashJoinExec.scala:77)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.produce(BroadcastHashJoinExec.scala:38)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doProduce(basicPhysicalOperators.scala:46)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.ProjectExec.produce(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.doProduce(BroadcastHashJoinExec.scala:77)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.joins.BroadcastHashJoinExec.produce(BroadcastHashJoinExec.scala:38)\r\n\tat org.apache.spark.sql.execution.ProjectExec.doProduce(basicPhysicalOperators.scala:46)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.ProjectExec.produce(basicPhysicalOperators.scala:36)\r\n\tat org.apache.spark.sql.execution.aggregate.HashAggregateExec.doProduceWithKeys(HashAggregateExec.scala:600)\r\n\tat org.apache.spark.sql.execution.aggregate.HashAggregateExec.doProduce(HashAggregateExec.scala:148)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:83)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$$anonfun$produce$1.apply(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:135)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:132)\r\n\tat org.apache.spark.sql.execution.CodegenSupport$class.produce(WholeStageCodegenExec.scala:78)\r\n\tat org.apache.spark.sql.execution.aggregate.HashAggregateExec.produce(HashAggregateExec.scala:38)\r\n\tat org.apache.spark.sql.execution.WholeStageCodegenExec.doCodeGen(WholeStageCodegenExec.scala:329)\r\n\tat org.apache.spark.sql.execution.debug.package$$anonfun$codegenString$3.apply(package.scala:66)\r\n\tat org.apache.spark.sql.execution.debug.package$$anonfun$codegenString$3.apply(package.scala:62)\r\n\tat scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)\r\n\tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n\tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:732)\r\n\tat org.apache.spark.sql.execution.debug.package$.codegenString(package.scala:62)\r\n\tat org.apache.spark.sql.execution.command.ExplainCommand.run(commands.scala:116)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:58)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:56)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.executeCollect(commands.scala:67)\r\n\tat org.apache.spark.sql.Dataset.<init>(Dataset.scala:183)\r\n\tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:68)\r\n\tat org.apache.spark.sql.SparkSession.sql(SparkSession.scala:617)\r\n\tat org.apache.spark.sql.SQLContext.sql(SQLContext.scala:688)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLDriver.run(SparkSQLDriver.scala:62)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.processCmd(SparkSQLCLIDriver.scala:335)\r\n\tat org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:376)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver$.main(SparkSQLCLIDriver.scala:247)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.main(SparkSQLCLIDriver.scala)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:739)\r\n\tat org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:178)\r\n\tat org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:203)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:117)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n\r\n{noformat}", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059115", "id": "13059115", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20093", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20093/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 29 04:23:38 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-29T04:23:38.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Exception when Joining dataframe with another dataframe generated by applying groupBy transformation on original one", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_335614011_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-29 01:34:36.088", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Hosur Narahari", "name": "narahari92", "self": "https://issues.apache.org/jira/rest/api/2/user?username=narahari92", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hnr1992 at gmail dot com", "key": "narahari92", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12499304", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Exception when joining DataFrames"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12902412", "id": "12902412", "key": "SPARK-10925"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12499304"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Hosur Narahari", "name": "narahari92", "self": "https://issues.apache.org/jira/rest/api/2/user?username=narahari92", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hnr1992 at gmail dot com", "key": "narahari92", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T07:10:04.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3csdj:", "versions": [{"archived": false, "name": "2.0.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12329449", "releaseDate": "2016-07-27", "released": true, "id": "12329449", "description": ""}, {"archived": false, "name": "2.0.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12336857", "releaseDate": "2016-10-03", "released": true, "id": "12336857"}, {"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}, {"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-29T04:23:38.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20093/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "When we generate a dataframe by doing grouping, and perform join on original dataframe with aggregate column, we get AnalysisException. Below I've attached a piece of code and resulting exception to reproduce.\r\n\r\nCode:\r\n\r\nimport org.apache.spark.sql.SparkSession\r\n\r\n\r\nobject App {\r\n\r\n  lazy val spark = SparkSession.builder.appName(\"Test\").master(\"local\").getOrCreate\r\n\r\n  def main(args: Array[String]): Unit = {\r\n    test1\r\n  }\r\n\r\n  private def test1 {\r\n    import org.apache.spark.sql.functions._\r\n    val df = spark.createDataFrame(Seq((\"M\",172,60), (\"M\", 170, 60), (\"F\", 155, 56), (\"M\", 160, 55), (\"F\", 150, 53))).toDF(\"gender\", \"height\", \"weight\")\r\n    val groupDF = df.groupBy(\"gender\").agg(min(\"height\").as(\"height\"))\r\n    groupDF.show()\r\n    val out = groupDF.join(df, groupDF(\"height\") <=> df(\"height\")).select(df(\"gender\"), df(\"height\"), df(\"weight\"))\r\n    out.show\r\n  }\r\n}\r\n\r\nWhen I ran above code, I got below exception:\r\n\r\nException in thread \"main\" org.apache.spark.sql.AnalysisException: resolved attribute(s) height#8 missing from height#19,height#30,gender#29,weight#31,gender#7 in operator !Join Inner, (height#19 <=> height#8);;\r\n!Join Inner, (height#19 <=> height#8)\r\n:- Aggregate [gender#7], [gender#7, min(height#8) AS height#19]\r\n:  +- Project [_1#0 AS gender#7, _2#1 AS height#8, _3#2 AS weight#9]\r\n:     +- LocalRelation [_1#0, _2#1, _3#2]\r\n+- Project [_1#0 AS gender#29, _2#1 AS height#30, _3#2 AS weight#31]\r\n   +- LocalRelation [_1#0, _2#1, _3#2]\r\n\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$class.failAnalysis(CheckAnalysis.scala:39)\r\n\tat org.apache.spark.sql.catalyst.analysis.Analyzer.failAnalysis(Analyzer.scala:90)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$1.apply(CheckAnalysis.scala:342)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$1.apply(CheckAnalysis.scala:78)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:127)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$class.checkAnalysis(CheckAnalysis.scala:78)\r\n\tat org.apache.spark.sql.catalyst.analysis.Analyzer.checkAnalysis(Analyzer.scala:90)\r\n\tat org.apache.spark.sql.execution.QueryExecution.assertAnalyzed(QueryExecution.scala:53)\r\n\tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:67)\r\n\tat org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$withPlan(Dataset.scala:2831)\r\n\tat org.apache.spark.sql.Dataset.join(Dataset.scala:843)\r\n\tat org.apache.spark.sql.Dataset.join(Dataset.scala:807)\r\n\tat App$.test1(App.scala:17)\r\n\tat App$.main(App.scala:9)\r\n\tat App.main(App.scala)\r\n\r\nPlease someone look into it.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/3", "id": "3", "name": "Duplicate", "description": "The problem is a duplicate of an existing issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059114", "id": "13059114", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20092", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20092/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Mar 25 06:08:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-26T06:29:37.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Trigger AppVeyor R tests for changes in Scala code related with R API", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_506142_*|*_3_*:*_1_*:*_87687456_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-25 06:08:03.792", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T05:59:44.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cscf:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-26T06:29:37.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20092/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "We are currently detecting the changes in {{./R}} directory and then trigger AppVeyor tests.\r\n\r\nIt seems we need to tests when there are some changes in {{./core/src/main/scala/org/apache/spark/r}} and {{./sql/core/src/main/scala/org/apache/spark/sql/api/r}}.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322620", "id": "12322620", "name": "Project Infra"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12325400", "description": "R language support", "id": "12325400", "name": "SparkR"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059109", "id": "13059109", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20091", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20091/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "2017-03-25 01:50:12.0", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-31T13:25:59.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "DagScheduler should allow running concurrent attempts of a stage in case of multiple fetch failure", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Sital Kedia", "name": "sitalkedia@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sitalkedia%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sitalkedia at gmail dot com", "key": "sitalkedia@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12499602", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Epic", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/15", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/epic.png", "subtask": false, "id": "15", "description": "Created by JIRA Agile - do not edit or delete. Issue type for a big user story that needs to be broken down."}, "summary": "Improve Scheduler fetch failures"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13060672", "id": "13060672", "key": "SPARK-20178"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12499602"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Sital Kedia", "name": "sitalkedia@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sitalkedia%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sitalkedia at gmail dot com", "key": "sitalkedia@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T01:50:12.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3csb3:", "versions": [{"archived": false, "name": "2.0.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12336857", "releaseDate": "2016-10-03", "released": true, "id": "12336857"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20091/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Currently, the Dag scheduler does not allow running concurrent attempts of a stage in case of multiple fetch failure. As a result, in case of multipe fetch failures are detected, serial execution of map stage delays the job run significantly.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324805", "description": "DAG schedulers or Task Schedulers in Spark core", "id": "12324805", "name": "Scheduler"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059103", "id": "13059103", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20090", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20090/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Apr 03 09:40:26 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-03T09:40:26.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Add StructType.fieldNames to Python API", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-25 04:56:15.23", "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "timeestimate": null, "creator": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "created": "2017-03-25T01:02:45.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3cs8v:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20090/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "The Scala/Java API for {{StructType}} has a method {{fieldNames}}.  It would be nice if the Python {{StructType}} did as well.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059093", "id": "13059093", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20089", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20089/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Mar 25 00:53:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-25T00:53:11.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Add DESC FUNCTION and DESC EXTENDED FUNCTION to SQLQueryTestSuite", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-25 00:53:02.881", "issuetype": {"name": "Test", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/6", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/requirement.png", "subtask": false, "id": "6", "description": "A new unit, integration or system test."}, "timeestimate": null, "creator": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-25T00:51:28.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cs87:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20089/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "{{DESC FUNCTION}} and {{DESC EXTENDED FUNCTION}} should be added to SQLQueryTestSuite for us to review the outputs of each function.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059090", "id": "13059090", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20088", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20088/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 27 15:54:39 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-27T15:54:47.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Hossein Falaki", "name": "falaki", "self": "https://issues.apache.org/jira/rest/api/2/user?username=falaki", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "falaki at gmail dot com", "key": "falaki", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Do not create new SparkContext in SparkR createSparkContext", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_235439_*|*_3_*:*_1_*:*_227969459_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-25 00:35:03.178", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Hossein Falaki", "name": "falaki", "self": "https://issues.apache.org/jira/rest/api/2/user?username=falaki", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "falaki at gmail dot com", "key": "falaki", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Hossein Falaki", "name": "falaki", "self": "https://issues.apache.org/jira/rest/api/2/user?username=falaki", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "falaki at gmail dot com", "key": "falaki", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-25T00:31:14.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cs7b:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-27T15:54:39.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20088/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "In the implementation of {{createSparkContext}}, we are calling \r\n{code}\r\n new JavaSparkContext()\r\n{code}", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12325400", "description": "R language support", "id": "12325400", "name": "SparkR"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059086", "id": "13059086", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20087", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20087/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 27 18:10:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-27T18:10:10.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Include accumulators / taskMetrics when sending TaskKilled to onTaskEnd listeners", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-27 18:10:03.574", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Charles Lewis", "name": "noodle", "self": "https://issues.apache.org/jira/rest/api/2/user?username=noodle", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "noodle at fb dot com", "key": "noodle", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Charles Lewis", "name": "noodle", "self": "https://issues.apache.org/jira/rest/api/2/user?username=noodle", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "noodle at fb dot com", "key": "noodle", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-25T00:21:11.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cs73:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20087/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "When tasks end due to an ExceptionFailure, subscribers to onTaskEnd receive accumulators / task metrics for that task, if they were still available. These metrics are not currently sent when tasks are killed intentionally, such as when a speculative retry finishes, and the original is killed (or vice versa). Since we're killing these tasks ourselves, these metrics should almost always exist, and we should treat them the same way as we treat ExceptionFailures.\r\n\r\nSending these metrics with the TaskKilled end reason makes aggregation across all tasks in an app more accurate. This data can inform decisions about how to tune the speculation parameters in order to minimize duplicated work, and in general, the total cost of an app should include both successful and failed tasks, if that information exists.\r\n\r\nPR: https://github.com/apache/spark/pull/17422", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059085", "id": "13059085", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20086", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20086/votes", "votes": 1}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 26 07:58:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-26T20:48:57.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Herman van Hovell", "name": "hvanhovell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hvanhovell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hvanhovell at databricks dot com", "key": "hvanhovell", "active": true, "timeZone": "Europe/Amsterdam"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "issue with pyspark 2.1.0 window function", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_124000774_*|*_3_*:*_1_*:*_46246970_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-26 07:58:03.448", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "mandar uapdhye", "name": "mandarup", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mandarup", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "mandar dot upadhye dot 1 at gmail dot com", "key": "mandarup", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "mandar uapdhye", "name": "mandarup", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mandarup", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "mandar dot upadhye dot 1 at gmail dot com", "key": "mandarup", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-24T21:31:29.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3crxj:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-26T20:48:57.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20086/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "original  post at\r\n[stackoverflow | http://stackoverflow.com/questions/43007433/pyspark-2-1-0-error-when-working-with-window-function]\r\n\r\nI get error when working with pyspark window function. here is some example code:\r\n\r\n{code:title=borderStyle=solid}\r\n    import pyspark\r\n    import pyspark.sql.functions as sf\r\n    import pyspark.sql.types as sparktypes\r\n    from pyspark.sql import window\r\n    \r\n    sc = pyspark.SparkContext()\r\n    sqlc = pyspark.SQLContext(sc)\r\n    rdd = sc.parallelize([(1, 2.0), (1, 3.0), (1, 1.), (1, -2.), (1, -1.)])\r\n    df = sqlc.createDataFrame(rdd, [\"x\", \"AmtPaid\"])\r\n    df.show()\r\n\r\n{code}\r\n\r\ngives:\r\n\r\n\r\n    |  x|AmtPaid|\r\n    |  1|    2.0|\r\n    |  1|    3.0|\r\n    |  1|    1.0|\r\n    |  1|   -2.0|\r\n    |  1|   -1.0|\r\n\r\n\r\nnext, compute cumulative sum\r\n\r\n{code:title=test.py|borderStyle=solid}\r\n    win_spec_max = (window.Window\r\n                    .partitionBy(['x'])\r\n                    .rowsBetween(window.Window.unboundedPreceding, 0)))\r\n    df = df.withColumn('AmtPaidCumSum',\r\n                       sf.sum(sf.col('AmtPaid')).over(win_spec_max))\r\n    df.show()\r\n{code}\r\n\r\ngives,\r\n\r\n\r\n    |  x|AmtPaid|AmtPaidCumSum|\r\n    |  1|    2.0|          2.0|\r\n    |  1|    3.0|          5.0|\r\n    |  1|    1.0|          6.0|\r\n    |  1|   -2.0|          4.0|\r\n    |  1|   -1.0|          3.0|\r\n\r\nnext, compute cumulative max,\r\n\r\n{code}\r\n    df = df.withColumn('AmtPaidCumSumMax', sf.max(sf.col('AmtPaidCumSum')).over(win_spec_max))\r\n\r\n    df.show()\r\n{code}\r\n\r\ngives error log\r\n\r\n{noformat}\r\n     Py4JJavaError: An error occurred while calling o2609.showString.\r\n\r\n\r\nwith traceback:\r\n\r\n\r\n    Py4JJavaErrorTraceback (most recent call last)\r\n    <ipython-input-215-3106d06b6e49> in <module>()\r\n    ----> 1 df.show()\r\n\r\n    /Users/<>/spark-2.1.0-bin-hadoop2.7/python/pyspark/sql/dataframe.pyc in show(self, n, truncate)\r\n        316         \"\"\"\r\n        317         if isinstance(truncate, bool) and truncate:\r\n    --> 318             print(self._jdf.showString(n, 20))\r\n        319         else:\r\n        320             print(self._jdf.showString(n, int(truncate)))\r\n\r\n    /Users/<>/.virtualenvs/<>/lib/python2.7/site-packages/py4j/java_gateway.pyc in __call__(self, *args)\r\n       1131         answer = self.gateway_client.send_command(command)\r\n       1132         return_value = get_return_value(\r\n    -> 1133             answer, self.gateway_client, self.target_id, self.name)\r\n       1134 \r\n       1135         for temp_arg in temp_args:\r\n\r\n    /Users/<>/spark-2.1.0-bin-hadoop2.7/python/pyspark/sql/utils.pyc in deco(*a, **kw)\r\n         61     def deco(*a, **kw):\r\n         62         try:\r\n    ---> 63             return f(*a, **kw)\r\n         64         except py4j.protocol.Py4JJavaError as e:\r\n         65             s = e.java_exception.toString()\r\n\r\n    /Users/<>/.virtualenvs/<>/lib/python2.7/site-packages/py4j/protocol.pyc in get_return_value(answer, gateway_client, target_id, name)\r\n        317                 raise Py4JJavaError(\r\n        318                     \"An error occurred while calling {0}{1}{2}.\\n\".\r\n    --> 319                     format(target_id, \".\", name), value)\r\n        320             else:\r\n        321                 raise Py4JError(\r\n{noformat}\r\n\r\nbut interestingly enough, if i introduce another change before sencond window operation, say inserting a column then it does not give that error:\r\n\r\n{code}\r\n    df = df.withColumn('MaxBound', sf.lit(6.))\r\n    df.show()\r\n{code}\r\n\r\n\r\n    |  x|AmtPaid|AmtPaidCumSum|MaxBound|\r\n    |  1|    2.0|          2.0|     6.0|\r\n    |  1|    3.0|          5.0|     6.0|\r\n    |  1|    1.0|          6.0|     6.0|\r\n    |  1|   -2.0|          4.0|     6.0|\r\n    |  1|   -1.0|          3.0|     6.0|\r\n\r\n{code}\r\n    #then apply the second window operations\r\n    df = df.withColumn('AmtPaidCumSumMax', sf.max(sf.col('AmtPaidCumSum')).over(win_spec_max))\r\n    df.show()\r\n{code}\r\n\r\n    |  x|AmtPaid|AmtPaidCumSum|MaxBound|AmtPaidCumSumMax|\r\n    |  1|    2.0|          2.0|     6.0|             2.0|\r\n    |  1|    3.0|          5.0|     6.0|             5.0|\r\n    |  1|    1.0|          6.0|     6.0|             6.0|\r\n    |  1|   -2.0|          4.0|     6.0|             6.0|\r\n    |  1|   -1.0|          3.0|     6.0|             6.0|\r\n\r\nI do not understand this behaviour\r\n\r\nwell, so far so good, but then I try another operation then again get similar error:\r\n\r\n{code}\r\n    def _udf_compare_cumsum_sll(x):\r\n        if x['AmtPaidCumSumMax'] >= x['MaxBound']:\r\n            output = 0\r\n        else:\r\n            output = x['AmtPaid']\r\n        return output\r\n\r\n    udf_compare_cumsum_sll = sf.udf(_udf_compare_cumsum_sll, sparktypes.FloatType())\r\n    df = df.withColumn('AmtPaidAdjusted', udf_compare_cumsum_sll(sf.struct([df[x] for x in df.columns])))\r\n    df.show()\r\n{code}\r\n\r\ngives,\r\n\r\n{noformat}\r\n    Py4JJavaErrorTraceback (most recent call last)\r\n    <ipython-input-18-3106d06b6e49> in <module>()\r\n    ----> 1 df.show()\r\n\r\n    /Users/<>/spark-2.1.0-bin-hadoop2.7/python/pyspark/sql/dataframe.pyc in show(self, n, truncate)\r\n        316         \"\"\"\r\n        317         if isinstance(truncate, bool) and truncate:\r\n    --> 318             print(self._jdf.showString(n, 20))\r\n        319         else:\r\n        320             print(self._jdf.showString(n, int(truncate)))\r\n\r\n    /Users/<>/.virtualenvs/<>/lib/python2.7/site-packages/py4j/java_gateway.pyc in __call__(self, *args)\r\n       1131         answer = self.gateway_client.send_command(command)\r\n       1132         return_value = get_return_value(\r\n    -> 1133             answer, self.gateway_client, self.target_id, self.name)\r\n       1134 \r\n       1135         for temp_arg in temp_args:\r\n\r\n    /Users/<>/spark-2.1.0-bin-hadoop2.7/python/pyspark/sql/utils.pyc in deco(*a, **kw)\r\n         61     def deco(*a, **kw):\r\n         62         try:\r\n    ---> 63             return f(*a, **kw)\r\n         64         except py4j.protocol.Py4JJavaError as e:\r\n         65             s = e.java_exception.toString()\r\n\r\n    /Users/<>/.virtualenvs/<>/lib/python2.7/site-packages/py4j/protocol.pyc in get_return_value(answer, gateway_client, target_id, name)\r\n        317                 raise Py4JJavaError(\r\n        318                     \"An error occurred while calling {0}{1}{2}.\\n\".\r\n    --> 319                     format(target_id, \".\", name), value)\r\n        320             else:\r\n        321                 raise Py4JError(\r\n\r\n    Py4JJavaError: An error occurred while calling o91.showString.\r\n    : org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 36.0 failed 1 times, most recent failure: Lost task 0.0 in stage 36.0 (TID 645, localhost, executor driver): org.apache.spark.sql.catalyst.errors.package$TreeNodeException: Binding attribute, tree: AmtPaidCumSum#10\r\n{noformat}    \t\r\n\r\nI wonder if someone could reproduce this behaviour ...\r\n\r\n\r\nhere is complete log ..\r\n\r\n{noformat}\r\n    Py4JJavaErrorTraceback (most recent call last)\r\n    <ipython-input-69-3106d06b6e49> in <module>()\r\n    ----> 1 df.show()\r\n\r\n    /Users/<>/spark-2.1.0-bin-hadoop2.7/python/pyspark/sql/dataframe.pyc in show(self, n, truncate)\r\n        316         \"\"\"\r\n        317         if isinstance(truncate, bool) and truncate:\r\n    --> 318             print(self._jdf.showString(n, 20))\r\n        319         else:\r\n        320             print(self._jdf.showString(n, int(truncate)))\r\n\r\n    /Users/<>/.virtualenvs/<>/lib/python2.7/site-packages/py4j/java_gateway.pyc in __call__(self, *args)\r\n       1131         answer = self.gateway_client.send_command(command)\r\n       1132         return_value = get_return_value(\r\n    -> 1133             answer, self.gateway_client, self.target_id, self.name)\r\n       1134\r\n       1135         for temp_arg in temp_args:\r\n\r\n    /Users/<>/spark-2.1.0-bin-hadoop2.7/python/pyspark/sql/utils.pyc in deco(*a, **kw)\r\n         61     def deco(*a, **kw):\r\n         62         try:\r\n    ---> 63             return f(*a, **kw)\r\n         64         except py4j.protocol.Py4JJavaError as e:\r\n         65             s = e.java_exception.toString()\r\n\r\n    /Users/<>/.virtualenvs/<>/lib/python2.7/site-packages/py4j/protocol.pyc in get_return_value(answer, gateway_client, target_id, name)\r\n        317                 raise Py4JJavaError(\r\n        318                     \"An error occurred while calling {0}{1}{2}.\\n\".\r\n    --> 319                     format(target_id, \".\", name), value)\r\n        320             else:\r\n        321                 raise Py4JError(\r\n\r\n    Py4JJavaError: An error occurred while calling o703.showString.\r\n    : org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 119.0 failed 1 times, most recent failure: Lost task 0.0 in stage 119.0 (TID 1817, localhost, executor driver): org.apache.spark.sql.catalyst.errors.package$TreeNodeException: Binding attribute, tree: AmtPaidCumSum#2076\r\n    \tat org.apache.spark.sql.catalyst.errors.package$.attachTree(package.scala:56)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1.applyOrElse(BoundAttribute.scala:88)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1.applyOrElse(BoundAttribute.scala:87)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$3.apply(TreeNode.scala:288)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$3.apply(TreeNode.scala:288)\r\n    \tat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:70)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:287)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$transformDown$1.apply(TreeNode.scala:293)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$transformDown$1.apply(TreeNode.scala:293)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$5$$anonfun$apply$11.apply(TreeNode.scala:360)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n    \tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n    \tat scala.collection.immutable.List.map(List.scala:285)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$5.apply(TreeNode.scala:358)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.mapProductIterator(TreeNode.scala:188)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transformChildren(TreeNode.scala:329)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:293)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transform(TreeNode.scala:277)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$.bindReference(BoundAttribute.scala:87)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$$anonfun$bind$1.apply(GenerateMutableProjection.scala:38)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$$anonfun$bind$1.apply(GenerateMutableProjection.scala:38)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n    \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n    \tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n    \tat scala.collection.AbstractTraversable.map(Traversable.scala:104)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$.bind(GenerateMutableProjection.scala:38)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$.generate(GenerateMutableProjection.scala:44)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.newMutableProjection(SparkPlan.scala:353)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$org$apache$spark$sql$execution$window$WindowExec$$anonfun$$processor$1$1.apply(WindowExec.scala:203)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$org$apache$spark$sql$execution$window$WindowExec$$anonfun$$processor$1$1.apply(WindowExec.scala:202)\r\n    \tat org.apache.spark.sql.execution.window.AggregateProcessor$.apply(AggregateProcessor.scala:98)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2.org$apache$spark$sql$execution$window$WindowExec$$anonfun$$processor$1(WindowExec.scala:198)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$6.apply(WindowExec.scala:225)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$6.apply(WindowExec.scala:222)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14$$anon$1$$anonfun$16.apply(WindowExec.scala:318)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14$$anon$1$$anonfun$16.apply(WindowExec.scala:318)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\r\n    \tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)\r\n    \tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n    \tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:186)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14$$anon$1.<init>(WindowExec.scala:318)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14.apply(WindowExec.scala:290)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14.apply(WindowExec.scala:289)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$23.apply(RDD.scala:796)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$23.apply(RDD.scala:796)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:99)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:282)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.RuntimeException: Couldn't find AmtPaidCumSum#2076 in [sum#2299,max#2300,x#2066L,AmtPaid#2067]\r\n    \tat scala.sys.package$.error(package.scala:27)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1$$anonfun$applyOrElse$1.apply(BoundAttribute.scala:94)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1$$anonfun$applyOrElse$1.apply(BoundAttribute.scala:88)\r\n    \tat org.apache.spark.sql.catalyst.errors.package$.attachTree(package.scala:52)\r\n    \t... 62 more\r\n\r\n    Driver stacktrace:\r\n    \tat org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1435)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1423)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1422)\r\n    \tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n    \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1422)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:802)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:802)\r\n    \tat scala.Option.foreach(Option.scala:257)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:802)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1650)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1605)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1594)\r\n    \tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:628)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1918)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1931)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:1944)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:333)\r\n    \tat org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:38)\r\n    \tat org.apache.spark.sql.Dataset$$anonfun$org$apache$spark$sql$Dataset$$execute$1$1.apply(Dataset.scala:2371)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:57)\r\n    \tat org.apache.spark.sql.Dataset.withNewExecutionId(Dataset.scala:2765)\r\n    \tat org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$execute$1(Dataset.scala:2370)\r\n    \tat org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$collect(Dataset.scala:2377)\r\n    \tat org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:2113)\r\n    \tat org.apache.spark.sql.Dataset$$anonfun$head$1.apply(Dataset.scala:2112)\r\n    \tat org.apache.spark.sql.Dataset.withTypedCallback(Dataset.scala:2795)\r\n    \tat org.apache.spark.sql.Dataset.head(Dataset.scala:2112)\r\n    \tat org.apache.spark.sql.Dataset.take(Dataset.scala:2327)\r\n    \tat org.apache.spark.sql.Dataset.showString(Dataset.scala:248)\r\n    \tat sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:280)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.GatewayConnection.run(GatewayConnection.java:214)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.spark.sql.catalyst.errors.package$TreeNodeException: Binding attribute, tree: null\r\n    \tat org.apache.spark.sql.catalyst.errors.package$.attachTree(package.scala:56)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1.applyOrElse(BoundAttribute.scala:88)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1.applyOrElse(BoundAttribute.scala:87)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$3.apply(TreeNode.scala:288)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$3.apply(TreeNode.scala:288)\r\n    \tat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:70)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:287)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$transformDown$1.apply(TreeNode.scala:293)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$transformDown$1.apply(TreeNode.scala:293)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$5$$anonfun$apply$11.apply(TreeNode.scala:360)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n    \tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n    \tat scala.collection.immutable.List.map(List.scala:285)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$5.apply(TreeNode.scala:358)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.mapProductIterator(TreeNode.scala:188)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transformChildren(TreeNode.scala:329)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:293)\r\n    \tat org.apache.spark.sql.catalyst.trees.TreeNode.transform(TreeNode.scala:277)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$.bindReference(BoundAttribute.scala:87)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$$anonfun$bind$1.apply(GenerateMutableProjection.scala:38)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$$anonfun$bind$1.apply(GenerateMutableProjection.scala:38)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n    \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n    \tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n    \tat scala.collection.AbstractTraversable.map(Traversable.scala:104)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$.bind(GenerateMutableProjection.scala:38)\r\n    \tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateMutableProjection$.generate(GenerateMutableProjection.scala:44)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.newMutableProjection(SparkPlan.scala:353)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$org$apache$spark$sql$execution$window$WindowExec$$anonfun$$processor$1$1.apply(WindowExec.scala:203)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$org$apache$spark$sql$execution$window$WindowExec$$anonfun$$processor$1$1.apply(WindowExec.scala:202)\r\n    \tat org.apache.spark.sql.execution.window.AggregateProcessor$.apply(AggregateProcessor.scala:98)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2.org$apache$spark$sql$execution$window$WindowExec$$anonfun$$processor$1(WindowExec.scala:198)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$6.apply(WindowExec.scala:225)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$windowFrameExpressionFactoryPairs$2$$anonfun$6.apply(WindowExec.scala:222)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14$$anon$1$$anonfun$16.apply(WindowExec.scala:318)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14$$anon$1$$anonfun$16.apply(WindowExec.scala:318)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n    \tat scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\r\n    \tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)\r\n    \tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n    \tat scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:186)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14$$anon$1.<init>(WindowExec.scala:318)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14.apply(WindowExec.scala:290)\r\n    \tat org.apache.spark.sql.execution.window.WindowExec$$anonfun$14.apply(WindowExec.scala:289)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$23.apply(RDD.scala:796)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$23.apply(RDD.scala:796)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:99)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:282)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \t... 1 more\r\n    Caused by: java.lang.RuntimeException: Couldn't find AmtPaidCumSum#2076 in [sum#2299,max#2300,x#2066L,AmtPaid#2067]\r\n    \tat scala.sys.package$.error(package.scala:27)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1$$anonfun$applyOrElse$1.apply(BoundAttribute.scala:94)\r\n    \tat org.apache.spark.sql.catalyst.expressions.BindReferences$$anonfun$bindReference$1$$anonfun$applyOrElse$1.apply(BoundAttribute.scala:88)\r\n    \tat org.apache.spark.sql.catalyst.errors.package$.attachTree(package.scala:52)\r\n    \t... 62 more\r\n{noformat}", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059042", "id": "13059042", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20085", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20085/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Apr 06 08:14:51 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-06T08:15:17.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Kalvin Chau", "name": "kalvinnchau", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kalvinnchau", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "work dot kalvinnchau at gmail dot com", "key": "kalvinnchau", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Configurable mesos labels for executors", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_77370_*|*_3_*:*_1_*:*_1080100380_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-24 20:13:05.274", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Kalvin Chau", "name": "kalvinnchau", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kalvinnchau", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "work dot kalvinnchau at gmail dot com", "key": "kalvinnchau", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kalvin Chau", "name": "kalvinnchau", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kalvinnchau", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "work dot kalvinnchau at gmail dot com", "key": "kalvinnchau", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-24T20:11:54.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3crs7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-04-06T08:14:51.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20085/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Add spark.mesos.task.labels configuration option to add mesos key:value labels to the executor.\r\n\r\n \"k1:v1,k2:v2\" as the format, colons separating key-value and commas to list out more than one.\r\n\r\nSee discussion on label at https://github.com/apache/spark/pull/17404", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322619", "id": "12322619", "name": "Mesos"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059018", "id": "13059018", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20084", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20084/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Mar 24 19:38:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-27T22:20:52.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Ryan Blue", "name": "rdblue", "self": "https://issues.apache.org/jira/rest/api/2/user?username=rdblue", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387"}, "emailAddress": "blue at apache dot org", "key": "rdblue", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Remove internal.metrics.updatedBlockStatuses accumulator from history files", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_274891_*|*_3_*:*_1_*:*_594345843_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-24 19:38:02.551", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Ryan Blue", "name": "rdblue", "self": "https://issues.apache.org/jira/rest/api/2/user?username=rdblue", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387"}, "emailAddress": "blue at apache dot org", "key": "rdblue", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12502090", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Excessive Spark history event/json data size (5GB each)"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12985857", "id": "12985857", "key": "SPARK-16333"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12502090"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Ryan Blue", "name": "rdblue", "self": "https://issues.apache.org/jira/rest/api/2/user?username=rdblue", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387"}, "emailAddress": "blue at apache dot org", "key": "rdblue", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-24T19:33:32.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3crq7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-31T16:43:53.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20084/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12340295", "archived": false, "id": "12340295", "name": "2.1.2"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "History files for large jobs can be hundreds of GB. These history files take too much space and create a backlog on the history server.\r\n\r\nMost of the size is from Accumulables in SparkListenerTaskEnd. The largest accumulable is internal.metrics.updatedBlockStatuses, which has a small update (the blocks that were changed) but a huge value (all known blocks). Nothing currently uses the accumulator value or update, so it is safe to remove it. Information for any block updated during a task is also recorded under Task Metrics / Updated Blocks.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322616", "id": "12322616", "name": "Web UI"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059009", "id": "13059009", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20083", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20083/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 27 19:14:40 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-27T19:14:40.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Change matrix toArray to not create a new array when matrix is already column major", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-27 19:07:41.202", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Seth Hendrickson", "name": "sethah", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sethah", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "shendrickson at cloudera dot com", "key": "sethah", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Seth Hendrickson", "name": "sethah", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sethah", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "shendrickson at cloudera dot com", "key": "sethah", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-24T17:28:48.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3crfr:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20083/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "{{toArray}} always creates a new array in column major format, even when the resulting array is the same as the backing values. We should change this to just return a reference to the values array when it is already column major.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058962", "id": "13058962", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20082", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20082/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed May 24 06:36:05 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-26T08:51:49.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Incremental update of LDA model, by adding initialModel as start point", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-24 19:06:24.719", "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "timeestimate": null, "creator": {"displayName": "Mathieu DESPRIEE", "name": "mathieude", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mathieude", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "mathieude", "key": "mathieude", "active": true, "timeZone": "Europe/Paris"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12504688", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "The training continuation for saved LDA model"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13072404", "id": "13072404", "key": "SPARK-20767"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12504688"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Mathieu DESPRIEE", "name": "mathieude", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mathieude", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "mathieude", "key": "mathieude", "active": true, "timeZone": "Europe/Paris"}, "created": "2017-03-24T13:14:44.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cqyv:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20082/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "Some mllib models support an initialModel to start from and update it incrementally with new data.\r\n\r\nFrom what I understand of OnlineLDAOptimizer, it is possible to incrementally update an existing model with batches of new documents.\r\n\r\nI suggest to add an initialModel as a start point for LDA.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058886", "id": "13058886", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20081", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20081/votes", "votes": 1}, "customfield_12312520": null, "customfield_12312521": "Wed Apr 26 07:48:26 UTC 2017", "customfield_12312720": null, "environment": "Java", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-26T07:48:26.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "RandomForestClassifier doesn't seem to support more than 100 labels", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_2266063567_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-04-13 06:40:30.755", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Christian Reiniger", "name": "creinig", "self": "https://issues.apache.org/jira/rest/api/2/user?username=creinig", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "creinig at creinig dot de", "key": "creinig", "active": true, "timeZone": "Europe/Berlin"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12500501", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Umbrella", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/14", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png", "subtask": false, "id": "14", "description": "An overarching type made of sub-tasks"}, "summary": "RandomForest improvement umbrella"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12952220", "id": "12952220", "key": "SPARK-14046"}, "type": {"outward": "contains", "inward": "Is contained by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060", "id": "12310060", "name": "Container"}, "id": "12500501"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Christian Reiniger", "name": "creinig", "self": "https://issues.apache.org/jira/rest/api/2/user?username=creinig", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "creinig at creinig dot de", "key": "creinig", "active": true, "timeZone": "Europe/Berlin"}, "created": "2017-03-24T11:37:18.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cqvj:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-04-19T17:05:01.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20081/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "When feeding data with more than 100 labels into RanfomForestClassifer#fit() (from java code), I get the following error message:\r\n\r\n{code}\r\nClassifier inferred 143 from label values in column rfc_df0e968db9df__labelCol, but this exceeded the max numClasses (100) allowed to be inferred from values.  \r\n  To avoid this error for labels with > 100 classes, specify numClasses explicitly in the metadata; this can be done by applying StringIndexer to the label column.\r\n{code}\r\n\r\nSetting \"numClasses\" in the metadata for the label column doesn't make a difference. Looking at the code, this is not surprising, since MetadataUtils.getNumClasses() ignores this setting:\r\n\r\n{code:language=scala}\r\n  def getNumClasses(labelSchema: StructField): Option[Int] = {\r\n    Attribute.fromStructField(labelSchema) match {\r\n      case binAttr: BinaryAttribute => Some(2)\r\n      case nomAttr: NominalAttribute => nomAttr.getNumValues\r\n      case _: NumericAttribute | UnresolvedAttribute => None\r\n    }\r\n  }\r\n{code}\r\n\r\nThe alternative would be to pass a proper \"maxNumClasses\" parameter to the classifier, so that Classifier#getNumClasses() allows a larger number of auto-detected labels. However, RandomForestClassifer#train() calls #getNumClasses without the \"maxNumClasses\" parameter, causing it to use the default of 100:\r\n\r\n{code:language=scala}\r\n  override protected def train(dataset: Dataset[_]): RandomForestClassificationModel = {\r\n    val categoricalFeatures: Map[Int, Int] =\r\n      MetadataUtils.getCategoricalFeatures(dataset.schema($(featuresCol)))\r\n    val numClasses: Int = getNumClasses(dataset)\r\n// ...\r\n{code}\r\n\r\nMy scala skills are pretty sketchy, so please correct me if I misinterpreted something. But as it seems right now, there is no way to learn from data with more than 100 labels via RandomForestClassifier.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322621", "description": "Machine learning library", "id": "12322621", "name": "MLlib"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058871", "id": "13058871", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20080", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20080/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Mar 24 10:21:43 UTC 2017", "customfield_12312720": null, "environment": "local spark and yarn from big top 1.1.0 version", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-24T14:40:02.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Spak streaming application do not throw serialisation exception in foreachRDD", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_238730_*|*_4_*:*_2_*:*_730493_*|*_5_*:*_3_*:*_108154_*|*_6_*:*_1_*:*_120594", "customfield_12310220": "2017-03-24 09:45:46.578", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Nick Hryhoriev", "name": "hryhoriev.nick", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hryhoriev.nick", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "grigor60 at gmail dot com", "key": "hryhoriev.nick", "active": true, "timeZone": "Europe/Kiev"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Nick Hryhoriev", "name": "hryhoriev.nick", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hryhoriev.nick", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "grigor60 at gmail dot com", "key": "hryhoriev.nick", "active": true, "timeZone": "Europe/Kiev"}, "created": "2017-03-24T09:41:47.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cqpb:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-24T10:01:45.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20080/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Step to reproduce:\r\n1)Use SPak Streaming application.\r\n2) inside foreachRDD of any DStream, use rdd,foreachPartition.\r\n3) use org.slf4j.Logger. Init it or use as a filed with closure. inside foreachPartition action.\r\n\r\nResult:\r\nNo exception throw. foreachPartition action not executed.\r\nExpected result:\r\nThrow java.io.NotSerializableException\r\n\r\ndescription:\r\nWhen i try use or init org.slf4j.Logger inside foreachPartition, that extracted to trait method. \r\nWhat was called in foreachRDD. \r\nI have found that foreachPartition method do not execute and no exception appeared.\r\nTested on local and yarn mode spark.\r\n\r\ncode can be found on [github|https://github.com/GrigorievNick/Spark2_1TraitLoggerSerialisationBug/tree/9da55393850df9fe19f5ff3e63b47ec2d1f67e17]. There are two main class that explain problem.\r\n\r\nif i will run same code with batch job. I will get exception ->\r\n{code:java}\r\nException in thread \"main\" org.apache.spark.SparkException: Task not serializable\r\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:298)\r\n    at org.apache.spark.util.ClosureCleaner$.org$apache$spark$util$ClosureCleaner$$clean(ClosureCleaner.scala:288)\r\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:108)\r\n    at org.apache.spark.SparkContext.clean(SparkContext.scala:2094)\r\n    at org.apache.spark.rdd.RDD$$anonfun$foreachPartition$1.apply(RDD.scala:924)\r\n    at org.apache.spark.rdd.RDD$$anonfun$foreachPartition$1.apply(RDD.scala:923)\r\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:362)\r\n    at org.apache.spark.rdd.RDD.foreachPartition(RDD.scala:923)\r\n    at TraitWithMethod$class.executeForEachpartitoin(TraitWithMethod.scala:12)\r\n    at ReproduceBugMain$.executeForEachpartitoin(ReproduceBugMain.scala:7)\r\n    at ReproduceBugMain$.main(ReproduceBugMain.scala:14)\r\n    at ReproduceBugMain.main(ReproduceBugMain.scala)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\nCaused by: java.io.NotSerializableException: ReproduceBugMain$\r\nSerialization stack:\r\n    - object not serializable (class: ReproduceBugMain$, value: ReproduceBugMain$@3935e9a8)\r\n    - field (class: TraitWithMethod$$anonfun$executeForEachpartitoin$1, name: $outer, type: interface TraitWithMethod)\r\n    - object (class TraitWithMethod$$anonfun$executeForEachpartitoin$1, <function1>)\r\n    at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:40)\r\n    at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:46)\r\n    at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:100)\r\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:295)\r\n    ... 18 more\r\n{code}\r\n\r\nOn Github can be found 2 commit. 1 initial i add link on it(this one contain sptreaming example). and Last one with batch job example", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322624", "description": "Spark DStreams API", "id": "12322624", "name": "DStreams"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/6", "id": "6", "name": "Invalid", "description": "The problem isn't valid and it can't be fixed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058843", "id": "13058843", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20079", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20079/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat May 06 13:32:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-06T13:32:02.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Re registration of AM hangs spark cluster in yarn-client mode", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-28 06:34:44.851", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Guoqiang Li", "name": "gq", "self": "https://issues.apache.org/jira/rest/api/2/user?username=gq", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gq&avatarId=19585", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gq&avatarId=19585", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=gq&avatarId=19585", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gq&avatarId=19585"}, "emailAddress": "witgo at qq dot com", "key": "gq", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Guoqiang Li", "name": "gq", "self": "https://issues.apache.org/jira/rest/api/2/user?username=gq", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gq&avatarId=19585", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gq&avatarId=19585", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=gq&avatarId=19585", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gq&avatarId=19585"}, "emailAddress": "witgo at qq dot com", "key": "gq", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-24T02:17:43.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cqdb:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20079/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "The ExecutorAllocationManager.reset method is called when re-registering AM, which sets the ExecutorAllocationManager.initializing field true. When this field is true, the Driver does not start a new executor from the AM request. The following two cases will cause the field to False\r\n\r\n1. A executor idle for some time.\r\n2. There are new stages to be submitted\r\n\r\n\r\nAfter the a stage was submitted, the AM was killed and restart ,the above two cases will not appear.\r\n\r\n1. When AM is killed, the yarn will kill all running containers. All execuotr will be lost and no executor will be idle.\r\n2. No surviving executor, resulting in the current stage will never be completed, DAG will not submit a new stage.\r\n\r\n\r\nReproduction steps:\r\n\r\n1. Start cluster\r\n\r\n{noformat}\r\necho -e \"sc.parallelize(1 to 2000).foreach(_ => Thread.sleep(1000))\" | ./bin/spark-shell  --master yarn-client --executor-cores 1 --conf spark.shuffle.service.enabled=true --conf spark.dynamicAllocation.enabled=true --conf spark.dynamicAllocation.maxExecutors=2\r\n{noformat}\r\n\r\n2.  Kill the AM process when a stage is scheduled. ", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322618", "id": "12322618", "name": "YARN"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058789", "id": "13058789", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20078", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20078/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Mar 25 10:42:27 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-25T10:43:15.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Kalvin Chau", "name": "kalvinnchau", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kalvinnchau", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "work dot kalvinnchau at gmail dot com", "key": "kalvinnchau", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Mesos executor configurability for task name and labels", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_602295_*|*_3_*:*_1_*:*_126677269_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-23 23:31:03.13", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Kalvin Chau", "name": "kalvinnchau", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kalvinnchau", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "work dot kalvinnchau at gmail dot com", "key": "kalvinnchau", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kalvin Chau", "name": "kalvinnchau", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kalvinnchau", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "work dot kalvinnchau at gmail dot com", "key": "kalvinnchau", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-23T23:21:07.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cq7b:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-25T10:42:27.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20078/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Add in the ability to configure the mesos task name as well as add labels to the Mesos ExecutorInfo protobuf message.\r\n\r\nCurrently all executors that are spun up are named Task X (where X is the executor number). \r\n\r\nFor centralized logging it would be nice to be able to have SparkJob1 X then Name, as well as allowing users to add any labels they would want.\r\n\r\nIn this PR I chose \"k1:v1,k2:v2\" as the format, colons separating key-value and commas to list out more than one.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322619", "id": "12322619", "name": "Mesos"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058762", "id": "13058762", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20077", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20077/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Jun 11 16:19:13 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-06-11T16:19:13.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Documentation for ml.stats.Correlation", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-06-11 16:19:13.806", "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "timeestimate": null, "creator": {"displayName": "Timothy Hunter", "name": "timhunter", "self": "https://issues.apache.org/jira/rest/api/2/user?username=timhunter", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=timhunter&avatarId=30665", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=timhunter&avatarId=30665", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=timhunter&avatarId=30665", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=timhunter&avatarId=30665"}, "emailAddress": "timhunter at databricks dot com", "key": "timhunter", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498867", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "summary": "Feature parity for correlation statistics in MLlib"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13043750", "id": "13043750", "key": "SPARK-19636"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498867"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "parent": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "Umbrella", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/14", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png", "subtask": false, "id": "14", "description": "An overarching type made of sub-tasks"}, "summary": "Algorithm/model parity for spark.ml (Scala)"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12757616", "id": "12757616", "key": "SPARK-4591"}, "reporter": {"displayName": "Timothy Hunter", "name": "timhunter", "self": "https://issues.apache.org/jira/rest/api/2/user?username=timhunter", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=timhunter&avatarId=30665", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=timhunter&avatarId=30665", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=timhunter&avatarId=30665", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=timhunter&avatarId=30665"}, "emailAddress": "timhunter at databricks dot com", "key": "timhunter", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-23T21:43:34.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cq3b:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20077/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Now that (Pearson) correlations are available in spark.ml, we need to write some documentation to go along with this feature. It can simply be looking at the unit tests for example right now.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058744", "id": "13058744", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20076", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20076/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Apr 07 08:59:36 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-07T09:00:31.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Liang-Chi Hsieh", "name": "viirya", "self": "https://issues.apache.org/jira/rest/api/2/user?username=viirya", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "viirya at gmail dot com", "key": "viirya", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Python interface for ml.stats.Correlation", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_648264384_*|*_3_*:*_1_*:*_602007089_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-31 09:46:03.758", "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "timeestimate": null, "creator": {"displayName": "Timothy Hunter", "name": "timhunter", "self": "https://issues.apache.org/jira/rest/api/2/user?username=timhunter", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=timhunter&avatarId=30665", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=timhunter&avatarId=30665", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=timhunter&avatarId=30665", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=timhunter&avatarId=30665"}, "emailAddress": "timhunter at databricks dot com", "key": "timhunter", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498866", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "summary": "Feature parity for correlation statistics in MLlib"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13043750", "id": "13043750", "key": "SPARK-19636"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498866"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "parent": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "Umbrella", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/14", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png", "subtask": false, "id": "14", "description": "An overarching type made of sub-tasks"}, "summary": "Algorithm/model parity for spark.ml (Scala)"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12757616", "id": "12757616", "key": "SPARK-4591"}, "reporter": {"displayName": "Timothy Hunter", "name": "timhunter", "self": "https://issues.apache.org/jira/rest/api/2/user?username=timhunter", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=timhunter&avatarId=30665", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=timhunter&avatarId=30665", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=timhunter&avatarId=30665", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=timhunter&avatarId=30665"}, "emailAddress": "timhunter at databricks dot com", "key": "timhunter", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-23T21:41:45.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cq33:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-04-07T08:59:36.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20076/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "The (Pearson) statistics have been exposed with a Dataframe interface as part of SPARK-19636 in the Scala interface. We should now make these available in Python.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058743", "id": "13058743", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20075", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20075/votes", "votes": 1}, "customfield_12312520": null, "customfield_12312521": "Fri Mar 24 21:20:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-27T08:38:43.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Support classifier, packaging in Maven coordinates", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-24 21:20:03.104", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Sean Owen", "name": "srowen", "self": "https://issues.apache.org/jira/rest/api/2/user?username=srowen", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=26037", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=26037", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=26037", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=26037"}, "emailAddress": "srowen at gmail dot com", "key": "srowen", "active": true, "timeZone": "Europe/London"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Sean Owen", "name": "srowen", "self": "https://issues.apache.org/jira/rest/api/2/user?username=srowen", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=26037", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=26037", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=26037", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=26037"}, "emailAddress": "srowen at gmail dot com", "key": "srowen", "active": true, "timeZone": "Europe/London"}, "created": "2017-03-23T21:23:31.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cq1r:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20075/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "Currently, it's possible to add dependencies to an app using its Maven coordinates on the command line: {{group:artifact:version}}. However, really Maven coordinates are 5-dimensional: {{group:artifact:packaging:classifier:version}}. In some rare but real cases it's important to be able to specify the classifier. And while we're at it why not try to support packaging?\r\n\r\nI have a WIP PR that I'll post soon.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12323802", "description": "Spark interactive shell", "id": "12323802", "name": "Spark Shell"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12324804", "description": "Spark's submission gateway and launcher library", "id": "12324804", "name": "Spark Submit"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058737", "id": "13058737", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20074", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20074/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "2017-03-23 19:01:39.0", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-23T19:01:39.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Make buffer size in unsafe external sorter configurable", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Sital Kedia", "name": "sitalkedia@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sitalkedia%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sitalkedia at gmail dot com", "key": "sitalkedia@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Sital Kedia", "name": "sitalkedia@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sitalkedia%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sitalkedia at gmail dot com", "key": "sitalkedia@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-23T19:01:39.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cpuf:", "versions": [{"archived": false, "name": "2.0.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12336857", "releaseDate": "2016-10-03", "released": true, "id": "12336857"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20074/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Currently, it is hardcoded to 32kb, see - https://github.com/sitalkedia/spark/blob/master/core/src/main/java/org/apache/spark/util/collection/unsafe/sort/UnsafeExternalSorter.java#L123", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058704", "id": "13058704", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20073", "fields": {"labels": ["correctness"], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20073/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon May 29 18:44:33 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-29T18:45:18.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Unexpected Cartesian product when using eqNullSafe in join with a derived table", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-24 05:15:07.741", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Everett Anderson", "name": "everett", "self": "https://issues.apache.org/jira/rest/api/2/user?username=everett", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "everett dot anderson at gmail dot com", "key": "everett", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12504128", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.", "self": "https://issues.apache.org/jira/rest/api/2/status/6", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png", "id": "6", "name": "Closed"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Join with null safe equality fails with AnalysisException"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13073320", "id": "13073320", "key": "SPARK-20804"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12504128"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498879", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "summary": "Join on two tables (generated from same one) is broken"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12780569", "id": "12780569", "key": "SPARK-6231"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498879"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498876", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "summary": "Dataset self join returns incorrect result"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12913967", "id": "12913967", "key": "SPARK-11803"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498876"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498900", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Join with Data Frame returns wrong results"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12901744", "id": "12901744", "key": "SPARK-10892"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498900"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498892", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Exception when joining DataFrames"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12902412", "id": "12902412", "key": "SPARK-10925"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498892"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498893", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "DataFrame with self-join fails unless toDF() column aliases provided"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12917025", "id": "12917025", "key": "SPARK-12052"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498893"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498899", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Column names are handled incorrectly when they originate from a single Dataframe"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12965051", "id": "12965051", "key": "SPARK-15127"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498899"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498877", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "Warn when Column API is constructing trivially true equality"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12784691", "id": "12784691", "key": "SPARK-6459"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498877"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Everett Anderson", "name": "everett", "self": "https://issues.apache.org/jira/rest/api/2/user?username=everett", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "everett dot anderson at gmail dot com", "key": "everett", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-23T17:12:51.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cpmf:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}, {"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20073/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "It appears that if you try to join tables A and B when B is derived from A and you use the eqNullSafe / <=> operator for the join condition, Spark performs a Cartesian product.\r\n\r\nHowever, if you perform the join on tables of the same data when they don't have a relationship, the expected non-Cartesian product join occurs.\r\n\r\n{noformat}\r\n// Create some fake data.\r\n\r\nimport org.apache.spark.sql.Row\r\nimport org.apache.spark.sql.Dataset\r\nimport org.apache.spark.sql.types._\r\nimport org.apache.spark.sql.functions\r\n\r\nval peopleRowsRDD = sc.parallelize(Seq(\r\n    Row(\"Fred\", 8, 1),\r\n    Row(\"Fred\", 8, 2),\r\n    Row(null, 10, 3),\r\n    Row(null, 10, 4),\r\n    Row(\"Amy\", 12, 5),\r\n    Row(\"Amy\", 12, 6)))\r\n    \r\nval peopleSchema = StructType(Seq(\r\n    StructField(\"name\", StringType, nullable = true),\r\n    StructField(\"group\", IntegerType, nullable = true),\r\n    StructField(\"data\", IntegerType, nullable = true)))\r\n    \r\nval people = spark.createDataFrame(peopleRowsRDD, peopleSchema)\r\n\r\npeople.createOrReplaceTempView(\"people\")\r\n\r\nscala> people.show\r\n+----+-----+----+\r\n|name|group|data|\r\n+----+-----+----+\r\n|Fred|    8|   1|\r\n|Fred|    8|   2|\r\n|null|   10|   3|\r\n|null|   10|   4|\r\n| Amy|   12|   5|\r\n| Amy|   12|   6|\r\n+----+-----+----+\r\n\r\n// Now create a derived table from that table. It doesn't matter much what.\r\nval variantCounts = spark.sql(\"select name, count(distinct(name, group, data)) as variant_count from people group by name having variant_count > 1\")\r\n\r\nvariantCounts.show\r\n+----+-------------+                                                            \r\n|name|variant_count|\r\n+----+-------------+\r\n|Fred|            2|\r\n|null|            2|\r\n| Amy|            2|\r\n+----+-------------+\r\n\r\n// Now try an inner join using the regular equalTo that drops nulls. This works fine.\r\n\r\nval innerJoinEqualTo = variantCounts.join(people, variantCounts(\"name\").equalTo(people(\"name\")))\r\ninnerJoinEqualTo.show\r\n\r\n+----+-------------+----+-----+----+                                            \r\n|name|variant_count|name|group|data|\r\n+----+-------------+----+-----+----+\r\n|Fred|            2|Fred|    8|   1|\r\n|Fred|            2|Fred|    8|   2|\r\n| Amy|            2| Amy|   12|   5|\r\n| Amy|            2| Amy|   12|   6|\r\n+----+-------------+----+-----+----+\r\n\r\n// Okay now lets switch to the <=> operator\r\n//\r\n// If you haven't set spark.sql.crossJoin.enabled=true, you'll get an error like\r\n// \"Cartesian joins could be prohibitively expensive and are disabled by default. To explicitly enable them, please set spark.sql.crossJoin.enabled = true;\"\r\n//\r\n// if you have enabled them, you'll get the table below.\r\n//\r\n// However, we really don't want or expect a Cartesian product!\r\n\r\nval innerJoinSqlNullSafeEqOp = variantCounts.join(people, variantCounts(\"name\")<=>(people(\"name\")))\r\ninnerJoinSqlNullSafeEqOp.show\r\n\r\n+----+-------------+----+-----+----+                                            \r\n|name|variant_count|name|group|data|\r\n+----+-------------+----+-----+----+\r\n|Fred|            2|Fred|    8|   1|\r\n|Fred|            2|Fred|    8|   2|\r\n|Fred|            2|null|   10|   3|\r\n|Fred|            2|null|   10|   4|\r\n|Fred|            2| Amy|   12|   5|\r\n|Fred|            2| Amy|   12|   6|\r\n|null|            2|Fred|    8|   1|\r\n|null|            2|Fred|    8|   2|\r\n|null|            2|null|   10|   3|\r\n|null|            2|null|   10|   4|\r\n|null|            2| Amy|   12|   5|\r\n|null|            2| Amy|   12|   6|\r\n| Amy|            2|Fred|    8|   1|\r\n| Amy|            2|Fred|    8|   2|\r\n| Amy|            2|null|   10|   3|\r\n| Amy|            2|null|   10|   4|\r\n| Amy|            2| Amy|   12|   5|\r\n| Amy|            2| Amy|   12|   6|\r\n+----+-------------+----+-----+----+\r\n\r\n// Okay, let's try to construct the exact same variantCount table manually\r\n// so it has no relationship to the original.\r\n\r\nval variantCountRowsRDD = sc.parallelize(Seq(\r\n    Row(\"Fred\", 2),\r\n    Row(null, 2),\r\n    Row(\"Amy\", 2)))\r\n    \r\nval variantCountSchema = StructType(Seq(\r\n    StructField(\"name\", StringType, nullable = true),\r\n    StructField(\"variant_count\", IntegerType, nullable = true)))\r\n    \r\nval manualVariantCounts = spark.createDataFrame(variantCountRowsRDD, variantCountSchema)\r\n\r\n// Now perform the same join with the null-safe equals operator. This works and gives us the expected non-Cartesian product result.\r\n\r\nval manualVarCountsInnerJoinSqlNullSafeEqOp = manualVariantCounts.join(people, manualVariantCounts(\"name\")<=>(people(\"name\")))\r\nmanualVarCountsInnerJoinSqlNullSafeEqOp.show\r\n\r\n+----+-------------+----+-----+----+\r\n|name|variant_count|name|group|data|\r\n+----+-------------+----+-----+----+\r\n|Fred|            2|Fred|    8|   1|\r\n|Fred|            2|Fred|    8|   2|\r\n| Amy|            2| Amy|   12|   5|\r\n| Amy|            2| Amy|   12|   6|\r\n|null|            2|null|   10|   3|\r\n|null|            2|null|   10|   4|\r\n+----+-------------+----+-----+----+\r\n\r\n{noformat}\r\n\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12328703", "id": "12328703", "name": "Optimizer"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058668", "id": "13058668", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20072", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20072/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 26 22:34:25 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-26T22:34:25.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Clarify ALS-WR documentation", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-23 14:23:06.123", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "chris snow", "name": "snowch", "self": "https://issues.apache.org/jira/rest/api/2/user?username=snowch", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snowch&avatarId=21805", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snowch&avatarId=21805", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=snowch&avatarId=21805", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snowch&avatarId=21805"}, "emailAddress": "chsnow123 at gmail dot com", "key": "snowch", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "chris snow", "name": "snowch", "self": "https://issues.apache.org/jira/rest/api/2/user?username=snowch", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snowch&avatarId=21805", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snowch&avatarId=21805", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=snowch&avatarId=21805", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snowch&avatarId=21805"}, "emailAddress": "chsnow123 at gmail dot com", "key": "snowch", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-23T14:17:40.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3cp8f:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20072/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "https://www.mail-archive.com/user@spark.apache.org/msg62590.html\r\n\r\nThe documentation for collaborative filtering is as follows:\r\n\r\n===\r\nScaling of the regularization parameter\r\n\r\nSince v1.1, we scale the regularization parameter lambda in solving\r\neach least squares problem by the number of ratings the user generated\r\nin updating user factors, or the number of ratings the product\r\nreceived in updating product factors.\r\n===\r\n\r\nI find this description confusing, probably because I lack a detailed\r\nunderstanding of ALS.   The wording suggest that the number of ratings\r\nchange (\"generated\", \"received\") during solving the least squares.\r\n\r\nThis is how I think I should be interpreting the description:\r\n\r\n===\r\nSince v1.1, we scale the regularization parameter lambda when solving\r\neach least squares problem.  When updating the user factors, we scale\r\nthe regularization parameter by the total number of ratings from the\r\nuser.  Similarly, when updating the product factors, we scale the\r\nregularization parameter by the total number of ratings for the\r\nproduct.\r\n===", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322607", "description": "Anything related to Spark docs", "id": "12322607", "name": "Documentation"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058605", "id": "13058605", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20071", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20071/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 14:40:54 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-23T14:40:54.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "StringIndexer overflows Kryo serialization buffer when run on column with many long distinct values", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-23 14:20:37.511", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Barry Becker", "name": "barrybecker4", "self": "https://issues.apache.org/jira/rest/api/2/user?username=barrybecker4", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "barrybecker4 at yahoo dot com", "key": "barrybecker4", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Barry Becker", "name": "barrybecker4", "self": "https://issues.apache.org/jira/rest/api/2/user?username=barrybecker4", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "barrybecker4 at yahoo dot com", "key": "barrybecker4", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-23T14:09:39.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cp87:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20071/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "I marked this as minor because there are workarounds.\r\nI have a 2 million row dataset with a string column that is mostly unique and contains many very long values.\r\nMost of the values are between 1,000 and 40,0000 characters long.\r\nI am using Kryoserializer and increased the  spark.kryoserializer.buffer.max to 256m. \r\n\r\nIf I try to run StringIndexer.fit on this column, I will get an OutOfMemory exception or more likely a Buffer overflow error like \r\n{code}\r\norg.apache.spark.SparkException: Kryo serialization failed: Buffer overflow. \r\nAvailable: 0, required: 23. \r\nTo avoid this, increase spark.kryoserializer.buffer.max \r\nvalue.org.apache.spark.serializer.KryoSerializerInstance.serialize(KryoSerializer.scala:315) \r\norg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:324) \r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) \r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n{code}\r\nThis result is not that surprising given that we are trying to index a column like this, however, I can think of some suggestions that would help avoid the error and maybe help performance.\r\n\r\nThese possible enhancements to StringIndexer might be hard, but I thought I would suggest them anyway, just in case they are not.\r\n1) Add param for Top N values. I know that StringIndexer gives lower indices to the more commonly occurring values. It would be great if one could specify that I only want to index the top N values and long everything else into a special \"Other\" value.\r\n2) Add param for label length limit. Only consider the first L characters of labels when doing the indexing.\r\n\r\nEither of these enhancements would work, but I suppose they can also be implemented with additional work as steps preceding the indexer in the pipeline. Perhaps topByKey could be used to replace the column with one that has the top values and \"Other\" as suggesed in 1).\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058604", "id": "13058604", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20070", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20070/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 28 02:25:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-28T02:25:03.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Herman van Hovell", "name": "hvanhovell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hvanhovell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hvanhovell at databricks dot com", "key": "hvanhovell", "active": true, "timeZone": "Europe/Amsterdam"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Redact datasource explain output", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_5682661_*|*_3_*:*_1_*:*_124861481_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-23 12:12:04.128", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Herman van Hovell", "name": "hvanhovell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hvanhovell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hvanhovell at databricks dot com", "key": "hvanhovell", "active": true, "timeZone": "Europe/Amsterdam"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Herman van Hovell", "name": "hvanhovell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hvanhovell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hvanhovell at databricks dot com", "key": "hvanhovell", "active": true, "timeZone": "Europe/Amsterdam"}, "created": "2017-03-23T10:37:28.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cowf:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-24T22:53:12.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20070/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "When calling explain on a datasource, the output can contain sensitive information. We should provide an admin/user to redact such information.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058551", "id": "13058551", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20069", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20069/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 09:03:09 UTC 2017", "customfield_12312720": null, "environment": "centos6, java 1.7, hadoop 2.6,, spark 2.0.1 on Yarn", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-23T09:03:09.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "enter spark thriftserver2 web UI very slow", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_103521_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-23 09:03:09.793", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "bruce xu", "name": "xwc3504", "self": "https://issues.apache.org/jira/rest/api/2/user?username=xwc3504", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "bruce3504 at gmail dot com", "key": "xwc3504", "active": true, "timeZone": "Asia/Hong_Kong"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "bruce xu", "name": "xwc3504", "self": "https://issues.apache.org/jira/rest/api/2/user?username=xwc3504", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "bruce3504 at gmail dot com", "key": "xwc3504", "active": true, "timeZone": "Asia/Hong_Kong"}, "created": "2017-03-23T09:01:26.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cop3:", "versions": [{"archived": false, "name": "2.0.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12336857", "releaseDate": "2016-10-03", "released": true, "id": "12336857"}], "resolutiondate": "2017-03-23T09:03:09.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20069/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "when the spark thriftserver2 has been on service for over roughly 14 hours, it's very slow(may cost 10 seconds or even more) to get into thriftserver2 UI(e.g. http://hadoop003.dx.momo.com:8088/proxy/application_1489971774015_47233/jobs/)\r\n\r\nevery day we have over 70 jobs running on spark thriftserver2\r\n\r\nanyone else reproduce this problem? ", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/6", "id": "6", "name": "Invalid", "description": "The problem isn't valid and it can't be fixed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058518", "id": "13058518", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20068", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20068/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Mar 24 06:05:57 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-24T06:07:51.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Twenty-two column coalesce has pool performance when codegen is open", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_82919411_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-23 08:29:02.188", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "QQShu1", "name": "QQShu11", "self": "https://issues.apache.org/jira/rest/api/2/user?username=QQShu11", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "badian2012 at 163 dot com", "key": "qqshu11", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "QQShu1", "name": "QQShu11", "self": "https://issues.apache.org/jira/rest/api/2/user?username=QQShu11", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "badian2012 at 163 dot com", "key": "qqshu11", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-23T07:03:57.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cojj:", "versions": [{"archived": false, "name": "1.5.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12332078", "releaseDate": "2015-09-09", "released": true, "id": "12332078"}], "resolutiondate": "2017-03-24T06:05:57.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20068/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "when the coalesce has Twenty-one  column the select performance is well, but the Twenty-two column coalesce the select performance is pool. \r\nI use the 22 column coalesce select commend is that : \r\nSELECT  \r\nSUM(COALESCE(col1,0)) AS CUSTOM1, \r\nSUM(COALESCE(col2,0)) AS CUSTOM2, \r\nSUM(COALESCE(col3,0)) AS CUSTOM3, \r\nSUM(COALESCE(col4,0)) AS CUSTOM4, \r\nSUM(COALESCE(col5,0)) AS CUSTOM5, \r\nSUM(COALESCE(col6,0)) AS CUSTOM6, \r\nSUM(COALESCE(col7,0)) AS CUSTOM7, \r\nSUM(COALESCE(col8,0)) AS CUSTOM8, \r\nSUM(COALESCE(col9,0)) AS CUSTOM9, \r\nSUM(COALESCE(col10,0)) AS CUSTOM10, \r\nSUM(COALESCE(col11,0)) AS CUSTOM11, \r\nSUM(COALESCE(col12,0)) AS CUSTOM12, \r\nSUM(COALESCE(col13,0)) AS CUSTOM13, \r\nSUM(COALESCE(col14,0)) AS CUSTOM14, \r\nSUM(COALESCE(col15,0)) AS CUSTOM15, \r\nSUM(COALESCE(col16,0)) AS CUSTOM16, \r\nSUM(COALESCE(col17,0)) AS CUSTOM17, \r\nSUM(COALESCE(col18,0)) AS CUSTOM18, \r\nSUM(COALESCE(col19,0)) AS CUSTOM19, \r\nSUM(COALESCE(col20,0)) AS CUSTOM20, \r\nSUM(COALESCE(col21,0)) AS CUSTOM21, \r\nSUM(COALESCE(col22,0)) AS CUSTOM22\r\nFROM txt_table ;\r\n the 21 column select commend it that:\r\nSELECT  \r\nSUM(COALESCE(col1,0)) AS CUSTOM1, \r\nSUM(COALESCE(col2,0)) AS CUSTOM2, \r\nSUM(COALESCE(col3,0)) AS CUSTOM3, \r\nSUM(COALESCE(col4,0)) AS CUSTOM4, \r\nSUM(COALESCE(col5,0)) AS CUSTOM5, \r\nSUM(COALESCE(col6,0)) AS CUSTOM6, \r\nSUM(COALESCE(col7,0)) AS CUSTOM7, \r\nSUM(COALESCE(col8,0)) AS CUSTOM8, \r\nSUM(COALESCE(col9,0)) AS CUSTOM9, \r\nSUM(COALESCE(col10,0)) AS CUSTOM10, \r\nSUM(COALESCE(col11,0)) AS CUSTOM11, \r\nSUM(COALESCE(col12,0)) AS CUSTOM12, \r\nSUM(COALESCE(col13,0)) AS CUSTOM13, \r\nSUM(COALESCE(col14,0)) AS CUSTOM14, \r\nSUM(COALESCE(col15,0)) AS CUSTOM15, \r\nSUM(COALESCE(col16,0)) AS CUSTOM16, \r\nSUM(COALESCE(col17,0)) AS CUSTOM17, \r\nSUM(COALESCE(col18,0)) AS CUSTOM18, \r\nSUM(COALESCE(col19,0)) AS CUSTOM19, \r\nSUM(COALESCE(col20,0)) AS CUSTOM20, \r\nSUM(COALESCE(col21,0)) AS CUSTOM21\r\nFROM txt_table ;", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/5", "id": "5", "name": "Cannot Reproduce", "description": "All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058493", "id": "13058493", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20067", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20067/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 05:41:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-06-05T05:49:33.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Unify and Clean Up Desc Commands Using Catalog Interface", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_184619_*|*_3_*:*_1_*:*_1039851550_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-23 05:41:03.197", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12505540", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "DESCRIBE showing 1 extra row of \"| # col_name  | data_type  | comment  |\""}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13076613", "id": "13076613", "key": "SPARK-20954"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12505540"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-23T05:38:04.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3coe7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-04-04T06:32:00.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20067/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "We should unify and clean up the outputs of `DESC EXTENDED/FORMATTED` and `SHOW TABLE EXTENDED` by moving the logics into the Catalog interface. The output formats are improved. We also add the missing attributes. It impacts the DDL commands like `SHOW TABLE EXTENDED`, `DESC EXTENDED` and `DESC FORMATTED`.\r\n\r\nIn addition, by following what we did in Dataset API `printSchema`, we can use `treeString` to show the schema in the more readable way. \r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058469", "id": "13058469", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20066", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20066/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 03:50:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-23T16:59:00.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Add explicit SecurityManager(SparkConf) constructor for backwards compatibility with Java", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_1212537_*|*_3_*:*_1_*:*_47331356_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-23 03:50:02.64", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Mark Grover", "name": "mgrover", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mgrover", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "grover dot markgrover at gmail dot com", "key": "mgrover", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Mark Grover", "name": "mgrover", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mgrover", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "grover dot markgrover at gmail dot com", "key": "mgrover", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-23T03:29:56.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cobj:", "versions": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-23T16:59:00.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20066/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "SPARK-19520 added an optional argument (ioEncryptionKey) to Security Manager class. And, it has a default value, so life is great.\r\n\r\nHowever, that's not enough when invoking the class from Java. We didn't see this before because the SecurityManager class is private to the spark package and all the code that uses it is Scala.\r\n\r\nHowever, I have some code that was extending it, in Java, and that code breaks because Java can't access that default value (more details [here|http://stackoverflow.com/questions/13059528/instantiate-a-scala-class-from-java-and-use-the-default-parameters-of-the-const]).", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/2", "id": "2", "name": "Won't Fix", "description": "The problem described is an issue which will never be fixed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058457", "id": "13058457", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20065", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20065/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 08:23:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-06-02T21:26:31.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Empty output files created for aggregation query in append mode", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-23 08:10:01.167", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Silvio Fiorito", "name": "sfiorito", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sfiorito", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "silvio dot fiorito at granturing dot com", "key": "sfiorito", "active": true, "timeZone": "America/New_York"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Silvio Fiorito", "name": "sfiorito", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sfiorito", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "silvio dot fiorito at granturing dot com", "key": "sfiorito", "active": true, "timeZone": "America/New_York"}, "created": "2017-03-23T02:45:27.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3co8n:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20065/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "I've got a Kafka topic which I'm querying, running a windowed aggregation, with a 30 second watermark, 10 second trigger, writing out to Parquet with append output mode.\r\n\r\nEvery 10 second trigger generates a file, regardless of whether there was any data for that trigger, or whether any records were actually finalized by the watermark.\r\n\r\nIs this expected behavior or should it not write out these empty files?\r\n\r\n{code}\r\nval df = spark.readStream.format(\"kafka\")....\r\n\r\nval query = df\r\n  .withWatermark(\"timestamp\", \"30 seconds\")\r\n  .groupBy(window($\"timestamp\", \"10 seconds\"))\r\n  .count()\r\n  .select(date_format($\"window.start\", \"HH:mm:ss\").as(\"time\"), $\"count\")\r\n\r\nquery\r\n  .writeStream\r\n  .format(\"parquet\")\r\n  .option(\"checkpointLocation\", aggChk)\r\n  .trigger(ProcessingTime(\"10 seconds\"))\r\n  .outputMode(\"append\")\r\n  .start(aggPath)\r\n{code}\r\n\r\nAs the query executes, do a file listing on \"aggPath\" and you'll see 339 byte files at a minimum until we arrive at the first watermark and the initial batch is finalized. Even after that though, as there are empty batches it'll keep generating empty files every trigger.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12339551", "archived": false, "id": "12339551", "name": "2.3.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058444", "id": "13058444", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20064", "fields": {"labels": ["starter"], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20064/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Apr 06 08:43:19 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-06T08:44:10.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "holdenk", "name": "holdenk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=holdenk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=holdenk&avatarId=19457", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=holdenk&avatarId=19457", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=holdenk&avatarId=19457", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=holdenk&avatarId=19457"}, "emailAddress": "holden dot karau+amplab at gmail dot com", "key": "holdenk", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Bump the PySpark verison number to 2.2", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_1025614181_*|*_3_*:*_1_*:*_213249219_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-04-03 21:29:02.979", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "holdenk", "name": "holdenk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=holdenk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=holdenk&avatarId=19457", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=holdenk&avatarId=19457", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=holdenk&avatarId=19457", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=holdenk&avatarId=19457"}, "emailAddress": "holden dot karau+amplab at gmail dot com", "key": "holdenk", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "holdenk", "name": "holdenk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=holdenk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=holdenk&avatarId=19457", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=holdenk&avatarId=19457", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=holdenk&avatarId=19457", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=holdenk&avatarId=19457"}, "emailAddress": "holden dot karau+amplab at gmail dot com", "key": "holdenk", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-23T00:35:36.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3co5j:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-04-06T08:43:19.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20064/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "The version.py should be updated for the new version. Note: this isn't critical since for any releases made with make-distribution the version number is read from the xml, but if anyone builds from source and manually looks at the version # it would be good to have it match. This is a good starter issue, but something we should do quickly.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058430", "id": "13058430", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20063", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20063/votes", "votes": 1}, "customfield_12312520": null, "customfield_12312521": "2017-03-22 23:43:42.0", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-04T00:35:46.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Trigger without delay when falling behind ", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_3631886179_*|*_5_*:*_1_*:*_0", "customfield_12310220": null, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Michael Armbrust", "name": "marmbrus", "self": "https://issues.apache.org/jira/rest/api/2/user?username=marmbrus", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=marmbrus&avatarId=21909", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=marmbrus&avatarId=21909", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=marmbrus&avatarId=21909", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=marmbrus&avatarId=21909"}, "emailAddress": "michael at databricks dot com", "key": "marmbrus", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12502587", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Execute next trigger immediately if previous batch took longer than trigger interval"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13061350", "id": "13061350", "key": "SPARK-20209"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12502587"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Michael Armbrust", "name": "marmbrus", "self": "https://issues.apache.org/jira/rest/api/2/user?username=marmbrus", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=marmbrus&avatarId=21909", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=marmbrus&avatarId=21909", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=marmbrus&avatarId=21909", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=marmbrus&avatarId=21909"}, "emailAddress": "michael at databricks dot com", "key": "marmbrus", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-22T23:43:42.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "customfield_12311620": null, "customfield_12311820": "0|i3co3z:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-05-04T00:35:08.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20063/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Today, when we miss a trigger interval we wait until the next one to fire.  However, for real workloads this usually means that you fall further and further behind by sitting idle while waiting.  We should revisit this decision.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/3", "id": "3", "name": "Duplicate", "description": "The problem is a duplicate of an existing issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058423", "id": "13058423", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20062", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20062/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "2017-03-22 23:33:58.0", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T23:33:58.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Inconsistent checking on ML estimator/model copy in the unit tests.", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Test", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/6", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/requirement.png", "subtask": false, "id": "6", "description": "A new unit, integration or system test."}, "timeestimate": null, "creator": {"displayName": "yuhao yang", "name": "yuhaoyan", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yuhaoyan", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "yuhao dot yang at intel dot com", "key": "yuhaoyan", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "yuhao yang", "name": "yuhaoyan", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yuhaoyan", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "yuhao dot yang at intel dot com", "key": "yuhaoyan", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-22T23:33:58.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3co3r:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20062/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Currently {code}     \r\n// copied model must have the same parent.\r\n    MLTestingUtils.checkCopy(model)\r\n {code}\r\nis missing from many unit tests in ml (only 6 appearances in ml.feature). And even for those with the check, we don't have a consistent place for them and they got scattered among different unit tests. Perhaps that's the reason that the check is often forgotten for new features.\r\n\r\nPossible options:\r\n1. put it together with save/load\r\n2. put it in the default parameter check (but not all algorithms has this check).\r\n\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058422", "id": "13058422", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20061", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20061/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 27 10:18:36 UTC 2017", "customfield_12312720": null, "environment": "EC2, AWS", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-27T10:19:25.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Reading a file with colon (:) from S3 fails with URISyntaxException", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_414857392_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-23 04:01:18.758", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Michel Lemay", "name": "FlamingMike", "self": "https://issues.apache.org/jira/rest/api/2/user?username=FlamingMike", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=flamingmike&avatarId=26121", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=flamingmike&avatarId=26121", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=flamingmike&avatarId=26121", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=flamingmike&avatarId=26121"}, "emailAddress": "mlemay at gmail dot com", "key": "flamingmike", "active": true, "timeZone": "America/New_York"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12499117", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "S3A Path does not understand colon (:) when globbing"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13059073", "id": "13059073", "key": "HADOOP-14235"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12499117"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498870", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "summary": "Object Storage: support colon in object path"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058462", "id": "13058462", "key": "HADOOP-14217"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498870"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Michel Lemay", "name": "FlamingMike", "self": "https://issues.apache.org/jira/rest/api/2/user?username=FlamingMike", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=flamingmike&avatarId=26121", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=flamingmike&avatarId=26121", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=flamingmike&avatarId=26121", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=flamingmike&avatarId=26121"}, "emailAddress": "mlemay at gmail dot com", "key": "flamingmike", "active": true, "timeZone": "America/New_York"}, "created": "2017-03-22T15:05:08.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cn2v:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-27T10:19:25.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20061/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "When reading a bunch of files from s3 using wildcards, it fails with the following exception:\r\n\r\n{code}\r\nscala> val fn = \"s3a://mybucket/path/*/\"\r\nscala> val ds = spark.readStream.schema(schema).json(fn)\r\n\r\njava.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: 2017-01-06T20:33:45.255-analyticsqa-49569270507599054034141623773442922465540524816321216514.json\r\n  at org.apache.hadoop.fs.Path.initialize(Path.java:205)\r\n  at org.apache.hadoop.fs.Path.<init>(Path.java:171)\r\n  at org.apache.hadoop.fs.Path.<init>(Path.java:93)\r\n  at org.apache.hadoop.fs.Globber.glob(Globber.java:241)\r\n  at org.apache.hadoop.fs.FileSystem.globStatus(FileSystem.java:1657)\r\n  at org.apache.spark.deploy.SparkHadoopUtil.globPath(SparkHadoopUtil.scala:237)\r\n  at org.apache.spark.deploy.SparkHadoopUtil.globPathIfNecessary(SparkHadoopUtil.scala:243)\r\n  at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$2.apply(DataSource.scala:131)\r\n  at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$2.apply(DataSource.scala:127)\r\n  at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\r\n  at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\r\n  at scala.collection.immutable.List.foreach(List.scala:381)\r\n  at scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:241)\r\n  at scala.collection.immutable.List.flatMap(List.scala:344)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.tempFileIndex$lzycompute$1(DataSource.scala:127)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.org$apache$spark$sql$execution$datasources$DataSource$$tempFileIndex$1(DataSource.scala:124)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.org$apache$spark$sql$execution$datasources$DataSource$$getOrInferFileFormatSchema(DataSource.scala:138)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.sourceSchema(DataSource.scala:229)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.sourceInfo$lzycompute(DataSource.scala:87)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.sourceInfo(DataSource.scala:87)\r\n  at org.apache.spark.sql.execution.streaming.StreamingRelation$.apply(StreamingRelation.scala:30)\r\n  at org.apache.spark.sql.streaming.DataStreamReader.load(DataStreamReader.scala:124)\r\n  at org.apache.spark.sql.streaming.DataStreamReader.load(DataStreamReader.scala:133)\r\n  at org.apache.spark.sql.streaming.DataStreamReader.json(DataStreamReader.scala:181)\r\n  ... 50 elided\r\nCaused by: java.net.URISyntaxException: Relative path in absolute URI: 2017-01-06T20:33:45.255-analyticsqa-49569270507599054034141623773442922465540524816321216514.json\r\n  at java.net.URI.checkPath(URI.java:1823)\r\n  at java.net.URI.<init>(URI.java:745)\r\n  at org.apache.hadoop.fs.Path.initialize(Path.java:202)\r\n  ... 73 more\r\n{code}\r\n\r\nThe file in question sits at the root of s3a://mybucket/path/\r\n\r\n{code}\r\naws s3 ls s3://mybucket/path/\r\n\r\n                           PRE subfolder1/\r\n                           PRE subfolder2/\r\n...\r\n2017-01-06 20:33:46       1383 2017-01-06T20:33:45.255-analyticsqa-49569270507599054034141623773442922465540524816321216514.json\r\n...\r\n{code}\r\n\r\n\r\nRemoving the wildcard from path make it work but it obviously does misses all files in subdirectories.\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/3", "id": "3", "name": "Duplicate", "description": "The problem is a duplicate of an existing issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058256", "id": "13058256", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20060", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20060/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Apr 06 17:18:43 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-11T18:31:30.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Support Standalone visiting secured HDFS ", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-22 13:24:02.568", "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "timeestimate": null, "creator": {"displayName": "Kent Yao", "name": "Qin Yao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=Qin+Yao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10432", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432"}, "emailAddress": "11215016 at zju dot edu dot cn", "key": "qin yao", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12500135", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "Allow for keytab-based HDFS security in Standalone mode"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12765863", "id": "12765863", "key": "SPARK-5158"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12500135"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12500544", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "Kerberos support for Spark on Mesos"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12992723", "id": "12992723", "key": "SPARK-16742"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12500544"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kent Yao", "name": "Qin Yao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=Qin+Yao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10432", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432"}, "emailAddress": "11215016 at zju dot edu dot cn", "key": "qin yao", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-22T13:19:52.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cmuf:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20060/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "h1. Brief design\r\n\r\nh2. Introductions\r\nThe basic issue for Standalone mode to visit kerberos secured HDFS or other kerberized Services is how to gather the delegated tokens on the driver side and deliver them to the executor side. \r\n\r\nWhen we run Spark on Yarn, we set the tokens to the container launch context to deliver them automatically and for long-term running issue caused by token expiration, we have it fixed with SPARK-14743 by writing the tokens to HDFS and updating the credential file and renewing them over and over.  \r\n\r\nWhen run Spark On Standalone, we currently have no implementations like Yarn to get and deliver those tokens.\r\n\r\nh2. Implementations\r\n\r\nFirstly, we simply move the implementation of SPARK-14743 which is only for yarn to core module. And we use it to gather the credentials we need, and also we use it to update and renew with credential files on HDFS.\r\n\r\nSecondly, credential files on secured HDFS are reachable for executors before they get the tokens. Here we add a sequence configuration `spark.deploy.credential. entities` which is used by the driver to put `token.encodeToUrlString()` before launching the executors, and used by the executors to fetch the credential as a string sequence during fetching the driver side spark properties, and then decode them to tokens.  Before setting up the `CoarseGrainedExecutorBackend` we set the credentials to current executor side ugi. \r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322615", "id": "12322615", "name": "Deploy"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058218", "id": "13058218", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20059", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20059/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 27 10:00:15 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-29T17:10:56.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Saisai Shao", "name": "jerryshao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=jerryshao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sai dot sai dot shao at gmail dot com", "key": "jerryshao", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "HbaseCredentialProvider uses wrong classloader", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_2307028_*|*_3_*:*_1_*:*_617507225_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 13:39:04.937", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Saisai Shao", "name": "jerryshao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=jerryshao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sai dot sai dot shao at gmail dot com", "key": "jerryshao", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Saisai Shao", "name": "jerryshao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=jerryshao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sai dot sai dot shao at gmail dot com", "key": "jerryshao", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-22T13:00:42.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cmsv:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-29T17:10:56.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20059/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "{{HBaseCredentialProvider}} uses system classloader instead of child classloader, which will make HBase jars specified with {{--jars}} fail to work, so here we should use the right class loader.\r\n\r\nBesides in yarn cluster mode jars specified with {{--jars}} is not added into client's class path, which will make it fail to load HBase jars and issue tokens in our scenario. Also some customized credential provider cannot be registered into client.\r\n\r\nSo here I will fix this two issues.\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322618", "id": "12322618", "name": "YARN"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058211", "id": "13058211", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20058", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20058/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 07:01:53 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-23T08:30:52.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "the running application status changed  from running to waiting when a master is down and it change to another standy by master", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_100652_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 11:58:58.594", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "wangweidong", "name": "wangweidong_hb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=wangweidong_hb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wangweidong_hb at 163 dot com", "key": "wangweidong_hb", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498781", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Recovered driver's resource is not counted in the Master"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12924658", "id": "12924658", "key": "SPARK-12552"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12498781"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "wangweidong", "name": "wangweidong_hb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=wangweidong_hb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wangweidong_hb at 163 dot com", "key": "wangweidong_hb", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-22T11:57:17.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cmq7:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}], "resolutiondate": "2017-03-22T11:58:58.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20058/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "1.I deployed the spark with cluster mode, test186 is master, test171 is a backup  master, workers is test137, test155 and test138.\r\n2, Start spark with command sbin/start-all.sh\r\n3, submit my task with command bin/spark-submit --supervise --deployed-mode cluster --master spark://test186:7077 etc.\r\n4, view web ui ,enter test186:8080 , I can see my application is running normally.\r\n5, Stop the master of test186, after a period of time, view web ui with test171(standby master), I see my application is waiting and it can not change to run, but type one application and enter the detail page, i can see it is actually runing.\r\n\r\nIs it an bug ? or i start spark with incorrect setting?\r\n\r\nHelp!!!", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322616", "id": "12322616", "name": "Web UI"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/6", "id": "6", "name": "Invalid", "description": "The problem isn't valid and it can't be fixed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058199", "id": "13058199", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20057", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20057/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 19:28:40 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T19:28:40.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Tathagata Das", "name": "tdas", "self": "https://issues.apache.org/jira/rest/api/2/user?username=tdas", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tdas&avatarId=23663", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tdas&avatarId=23663", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tdas&avatarId=23663", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tdas&avatarId=23663"}, "emailAddress": "tdas at databricks dot com", "key": "tdas", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Renamed KeyedState to GroupState", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_320555_*|*_3_*:*_1_*:*_30450036_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 11:01:02.594", "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "timeestimate": null, "creator": {"displayName": "Tathagata Das", "name": "tdas", "self": "https://issues.apache.org/jira/rest/api/2/user?username=tdas", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tdas&avatarId=23663", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tdas&avatarId=23663", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tdas&avatarId=23663", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tdas&avatarId=23663"}, "emailAddress": "tdas at databricks dot com", "key": "tdas", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "parent": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "mapGroupsWithState - arbitrary stateful operations with Structured Streaming (similar to DStream.mapWithState)"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13031810", "id": "13031810", "key": "SPARK-19067"}, "reporter": {"displayName": "Tathagata Das", "name": "tdas", "self": "https://issues.apache.org/jira/rest/api/2/user?username=tdas", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tdas&avatarId=23663", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tdas&avatarId=23663", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tdas&avatarId=23663", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tdas&avatarId=23663"}, "emailAddress": "tdas at databricks dot com", "key": "tdas", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-22T10:55:50.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cmm7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-22T19:28:40.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20057/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Since the state is tied a \"group\" in the \"mapGroupsWithState\" operations, its better to call the state \"GroupState\" instead of a key. This would make it more general if you extends this operation to RelationGroupedDataset and python APIs.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058181", "id": "13058181", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20056", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20056/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 09:00:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-20T07:48:11.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "IsotonicRegression support Numeric features", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_65072_*|*_3_*:*_1_*:*_2501282062_*|*_6_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 09:00:02.845", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "zhengruifeng", "name": "podongfeng", "self": "https://issues.apache.org/jira/rest/api/2/user?username=podongfeng", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=podongfeng&avatarId=26870", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=podongfeng&avatarId=26870", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=podongfeng&avatarId=26870", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=podongfeng&avatarId=26870"}, "emailAddress": "ruifengz at foxmail dot com", "key": "podongfeng", "active": true, "timeZone": "Asia/Hong_Kong"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "zhengruifeng", "name": "podongfeng", "self": "https://issues.apache.org/jira/rest/api/2/user?username=podongfeng", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=podongfeng&avatarId=26870", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=podongfeng&avatarId=26870", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=podongfeng&avatarId=26870", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=podongfeng&avatarId=26870"}, "emailAddress": "ruifengz at foxmail dot com", "key": "podongfeng", "active": true, "timeZone": "Asia/Hong_Kong"}, "created": "2017-03-22T08:59:04.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cmf3:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-04-20T07:48:11.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20056/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.", "self": "https://issues.apache.org/jira/rest/api/2/status/6", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png", "id": "6", "name": "Closed"}, "description": "IsotonicRegression should support Numeric features in both fit and transform.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058149", "id": "13058149", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20055", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20055/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 08:30:29 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T08:45:42.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Documentation for CSV datasets in SQL programming guide", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-22T08:28:33.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cmdj:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20055/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "I guess things commonly used and important are documented there rather than documenting everything and every option in the programming guide - http://spark.apache.org/docs/latest/sql-programming-guide.html.\r\n\r\nIt seems JSON datasets http://spark.apache.org/docs/latest/sql-programming-guide.html#json-datasets are documented whereas CSV datasets are not. \r\n\r\nNowadays, they are pretty similar in APIs and options. Some options are notable for both, In particular, ones such as {{wholeFile}}. Moreover, several options such as {{inferSchema}} and {{header}} are important in CSV that affect the type/column name of data.\r\n\r\nIn that sense, I think we might better document CSV datasets with some examples too because I believe reading CSV is pretty much common use cases.\r\n\r\nAlso, I think we could also leave some pointers for options of API documentations for both (rather than duplicating the documentation).\r\n\r\nSo, my suggestion is,\r\n\r\n- Add CSV Datasets section.\r\n- Add links for options for both JSON and CSV that point each API documentation\r\n- Fix trivial minor fixes together in both sections.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322607", "description": "Anything related to Spark docs", "id": "12322607", "name": "Documentation"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058142", "id": "13058142", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20054", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20054/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 17:35:21 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T17:35:21.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "[Mesos] Detectability for resource starvation", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-22 01:08:29.691", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Kamal Gurala", "name": "gkc2104", "self": "https://issues.apache.org/jira/rest/api/2/user?username=gkc2104", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "kcgurala at gmail dot com", "key": "gkc2104", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kamal Gurala", "name": "gkc2104", "self": "https://issues.apache.org/jira/rest/api/2/user?username=gkc2104", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "kcgurala at gmail dot com", "key": "gkc2104", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-22T00:21:45.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3clt3:", "versions": [{"archived": false, "name": "2.0.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12329449", "releaseDate": "2016-07-27", "released": true, "id": "12329449", "description": ""}, {"archived": false, "name": "2.0.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12336857", "releaseDate": "2016-10-03", "released": true, "id": "12336857"}, {"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}, {"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20054/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "We currently use Mesos 1.1.0 for our Spark cluster in coarse-grained mode. We had a production issue recently wherein we had our spark frameworks accept resources from the Mesos master, so executors were started and spark driver was aware of them, but the driver didn\u2019t plan any task and nothing was happening for a long time because it didn't meet a minimum registered resources threshold. and the cluster is usually under-provisioned in order because not all the jobs need to run at the same time. These held resources were never offered back to the master for re-allocation leading to the entire cluster to a halt until we had to manually intervene. \r\n\r\nUsing DRF for mesos and FIFO for Spark and the cluster is usually under-provisioned. At any point of time there could be 10-15 spark frameworks running on Mesos on the under-provisioned cluster \r\n\r\nThe ask is to have a way to better recoverability or detectability for a scenario where the individual Spark frameworks hold onto resources but never launch any tasks or have these frameworks release these resources after a fixed amount of time.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322619", "id": "12322619", "name": "Mesos"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12324805", "description": "DAG schedulers or Task Schedulers in Spark core", "id": "12324805", "name": "Scheduler"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058050", "id": "13058050", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20053", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20053/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 11:13:33 UTC 2017", "customfield_12312720": null, "environment": "mac OX", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T11:13:33.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Can't select col when the dot (.) in col name", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_39818613_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 11:13:33.754", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Xuxiang Mao", "name": "mstc123", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mstc123", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "maoxuxiang at gmail dot com", "key": "mstc123", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Xuxiang Mao", "name": "mstc123", "self": "https://issues.apache.org/jira/rest/api/2/user?username=mstc123", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "maoxuxiang at gmail dot com", "key": "mstc123", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-22T00:09:55.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cls7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-22T11:13:33.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20053/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I use java API read a csv file as Dataframe and try to do Dataframe.select(\"column name\").show(). This operation can successfully done when the column name contains no \".\", but it will fail when the column name has \".\". ERROR:\r\nException in thread \"main\" org.apache.spark.sql.AnalysisException: cannot resolve '`r_2_shape_1.8`' given input columns: [z_2.1.1, z_2.1.11,  .... r_1.34.2, r_1.14.2, r_2_shape_1.8, z_1.2.39];;\r\n'Project ['r_2_shape_1.8]\r\n+- TypedFilter com.amazon.recommerce.pricing.forecasting.postProcessing.utils.RawFileUtils$1@a03529c, interface org.apache.spark.sql.Row, [StructField(lp__,IntegerType,true), StructField(b.1,DoubleType,true), StructField(temp_Intercept,DoubleType,true), StructField(b_shape.1,DoubleType,true), StructField(sd_1.1,DoubleType,true), StructField(sd_1_2,DoubleType,true), StructField(z_1.1.1,DoubleType,true), StructField(z_1.2.1,DoubleType,true), StructField(z_1.1.2,DoubleType,true), StructField(z_1.2.2,DoubleType,true), StructField(z_1.1.3,DoubleType,true), StructField(z_1.2.3,DoubleType,true), StructField(z_1.1.4,DoubleType,true), StructField(z_1.2.4,DoubleType,true), StructField(z_1.1.5,DoubleType,true), StructField(z_1.2.5,DoubleType,true), StructField(z_1.1.6,DoubleType,true), StructField(z_1.2.6,DoubleType,true), StructField(z_1.1.7,DoubleType,true), StructField(z_1.2.7,DoubleType,true), StructField(z_1.1.8,DoubleType,true), StructField(z_1.2.8,DoubleType,true), StructField(z_1.1.9,DoubleType,true), StructField(z_1.2.9,DoubleType,true), ... 294 more fields], createexternalrow(lp__#0, b.1#1, temp_Intercept#2, b_shape.1#3, sd_1.1#4, sd_1_2#5, z_1.1.1#6, z_1.2.1#7, z_1.1.2#8, z_1.2.2#9, z_1.1.3#10, z_1.2.3#11, z_1.1.4#12, z_1.2.4#13, z_1.1.5#14, z_1.2.5#15, z_1.1.6#16, z_1.2.6#17, z_1.1.7#18, z_1.2.7#19, z_1.1.8#20, z_1.2.8#21, z_1.1.9#22, z_1.2.9#23, ... 612 more fields)\r\n   +- Relation[lp__#0,b.1#1,temp_Intercept#2,b_shape.1#3,sd_1.1#4,sd_1_2#5,z_1.1.1#6,z_1.2.1#7,z_1.1.2#8,z_1.2.2#9,z_1.1.3#10,z_1.2.3#11,z_1.1.4#12,z_1.2.4#13,z_1.1.5#14,z_1.2.5#15,z_1.1.6#16,z_1.2.6#17,z_1.1.7#18,z_1.2.7#19,z_1.1.8#20,z_1.2.8#21,z_1.1.9#22,z_1.2.9#23,... 294 more fields] csv\r\n\r\n\tat org.apache.spark.sql.catalyst.analysis.package$AnalysisErrorAt.failAnalysis(package.scala:42)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$1$$anonfun$apply$2.applyOrElse(CheckAnalysis.scala:77)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$1$$anonfun$apply$2.applyOrElse(CheckAnalysis.scala:74)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$transformUp$1.apply(TreeNode.scala:310)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode$$anonfun$transformUp$1.apply(TreeNode.scala:310)\r\n\tat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:70)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformUp(TreeNode.scala:309)\r\n\tat org.apache.spark.sql.catalyst.plans.QueryPlan.transformExpressionUp$1(QueryPlan.scala:282)\r\n\tat org.apache.spark.sql.catalyst.plans.QueryPlan.org$apache$spark$sql$catalyst$plans$QueryPlan$$recursiveTransform$2(QueryPlan.scala:292)\r\n\tat org.apache.spark.sql.catalyst.plans.QueryPlan$$anonfun$org$apache$spark$sql$catalyst$plans$QueryPlan$$recursiveTransform$2$1.apply(QueryPlan.scala:296)\r\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n\tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n\tat scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n\tat scala.collection.AbstractTraversable.map(Traversable.scala:104)\r\n\tat org.apache.spark.sql.catalyst.plans.QueryPlan.org$apache$spark$sql$catalyst$plans$QueryPlan$$recursiveTransform$2(QueryPlan.scala:296)\r\n\tat org.apache.spark.sql.catalyst.plans.QueryPlan$$anonfun$7.apply(QueryPlan.scala:301)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.mapProductIterator(TreeNode.scala:188)\r\n\tat org.apache.spark.sql.catalyst.plans.QueryPlan.transformExpressionsUp(QueryPlan.scala:301)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$1.apply(CheckAnalysis.scala:74)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$1.apply(CheckAnalysis.scala:67)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.foreachUp(TreeNode.scala:128)\r\n\tat org.apache.spark.sql.catalyst.analysis.CheckAnalysis$class.checkAnalysis(CheckAnalysis.scala:67)\r\n\tat org.apache.spark.sql.catalyst.analysis.Analyzer.checkAnalysis(Analyzer.scala:57)\r\n\tat org.apache.spark.sql.execution.QueryExecution.assertAnalyzed(QueryExecution.scala:48)\r\n\tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:63)\r\n\tat org.apache.spark.sql.Dataset.org$apache$spark$sql$Dataset$$withPlan(Dataset.scala:2822)\r\n\tat org.apache.spark.sql.Dataset.select(Dataset.scala:1121)\r\n\tat org.apache.spark.sql.Dataset.select(Dataset.scala:1139)\r\n\tat org.apache.spark.sql.Dataset.select(Dataset.scala:1139)\r\n\tat com.amazon.recommerce.pricing.forecasting.postProcessing.PostProcessing.main(PostProcessing.java:47)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322611", "id": "12322611", "name": "Java API"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058046", "id": "13058046", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20052", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20052/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 11:58:27 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T11:58:27.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Some InputDStream needs closing processing after processing all batches when graceful shutdown", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_43482967_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 04:55:22.311", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Sasaki Toru", "name": "sasakitoa", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sasakitoa", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sasakitoa at nttdata dot co dot jp", "key": "sasakitoa", "active": true, "timeZone": "Asia/Tokyo"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498659", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Kafka 0.10 DirectStream doesn't commit last processed batch's offset when graceful shutdown"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058032", "id": "13058032", "key": "SPARK-20050"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12498659"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Sasaki Toru", "name": "sasakitoa", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sasakitoa", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sasakitoa at nttdata dot co dot jp", "key": "sasakitoa", "active": true, "timeZone": "Asia/Tokyo"}, "created": "2017-03-21T23:53:44.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3clrr:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-22T11:58:27.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20052/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Some class extend InputDStream needs closing processing after processing all batches when graceful shutdown enabled.\r\n(e.g. When using Kafka as data source, need to commit processed offsets to Kafka Broker)\r\n\r\nInputDStream has method 'stop' to stop receiving data, but this method will be called before processing last batches generated for graceful shutdown.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322624", "description": "Spark DStreams API", "id": "12322624", "name": "DStreams"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/3", "id": "3", "name": "Duplicate", "description": "The problem is a duplicate of an existing issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058044", "id": "13058044", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20051", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20051/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 01:54:13 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T01:54:13.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Fix StreamSuite.recover from v2.1 checkpoint failing with IOException", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_739059_*|*_3_*:*_1_*:*_6904041_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 23:59:03.456", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Kunal Khamar", "name": "kunalkhamar", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kunalkhamar", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "kkhamar at outlook dot com", "key": "kunalkhamar", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kunal Khamar", "name": "kunalkhamar", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kunalkhamar", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "kkhamar at outlook dot com", "key": "kunalkhamar", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-21T23:46:50.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3clqv:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-22T01:54:13.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20051/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "There is a race condition between calling stop on a streaming query and deleting directories in withTempDir that causes test to fail, fixing to do lazy deletion using delete on shutdown JVM hook.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058040", "id": "13058040", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20050", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20050/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 28 22:37:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-29T22:50:52.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Kafka 0.10 DirectStream doesn't commit last processed batch's offset when graceful shutdown", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-23 07:05:18.487", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Sasaki Toru", "name": "sasakitoa", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sasakitoa", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sasakitoa at nttdata dot co dot jp", "key": "sasakitoa", "active": true, "timeZone": "Asia/Tokyo"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498659", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "Some InputDStream needs closing processing after processing all batches when graceful shutdown"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058044", "id": "13058044", "key": "SPARK-20052"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12498659"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Sasaki Toru", "name": "sasakitoa", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sasakitoa", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sasakitoa at nttdata dot co dot jp", "key": "sasakitoa", "active": true, "timeZone": "Asia/Tokyo"}, "created": "2017-03-21T23:08:43.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3clp3:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20050/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "I use Kafka 0.10 DirectStream with properties 'enable.auto.commit=false' and call 'DirectKafkaInputDStream#commitAsync' finally in each batches,  such below\r\n\r\n{code}\r\nval kafkaStream = KafkaUtils.createDirectStream[String, String](...)\r\n\r\nkafkaStream.map { input =>\r\n  \"key: \" + input.key.toString + \" value: \" + input.value.toString + \" offset: \" + input.offset.toString\r\n  }.foreachRDD { rdd =>\r\n    rdd.foreach { input =>\r\n    println(input)\r\n  }\r\n}\r\n\r\nkafkaStream.foreachRDD { rdd =>\r\n  val offsetRanges = rdd.asInstanceOf[HasOffsetRanges].offsetRanges\r\n  kafkaStream.asInstanceOf[CanCommitOffsets].commitAsync(offsetRanges)\r\n}\r\n{\\code}\r\n\r\nSome records which processed in the last batch before Streaming graceful shutdown reprocess in the first batch after Spark Streaming restart, such below\r\n\r\n* output first run of this application\r\n{code}\r\nkey: null value: 1 offset: 101452472\r\nkey: null value: 2 offset: 101452473\r\nkey: null value: 3 offset: 101452474\r\nkey: null value: 4 offset: 101452475\r\nkey: null value: 5 offset: 101452476\r\nkey: null value: 6 offset: 101452477\r\nkey: null value: 7 offset: 101452478\r\nkey: null value: 8 offset: 101452479\r\nkey: null value: 9 offset: 101452480  // this is a last record before shutdown Spark Streaming gracefully\r\n{\\code}\r\n\r\n* output re-run of this application\r\n{code}\r\nkey: null value: 7 offset: 101452478   // duplication\r\nkey: null value: 8 offset: 101452479   // duplication\r\nkey: null value: 9 offset: 101452480   // duplication\r\nkey: null value: 10 offset: 101452481\r\n{\\code}\r\n\r\nIt may cause offsets specified in commitAsync will commit in the head of next batch.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322624", "description": "Spark DStreams API", "id": "12322624", "name": "DStreams"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058032", "id": "13058032", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20049", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20049/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 14:43:03 UTC 2017", "customfield_12312720": null, "environment": "Spark 2.1.0, CDH 5.8, Python 3.4, Java 8, Debian GNU/Linux 8.7 (jessie)", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T14:43:03.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Writing data to Parquet with partitions takes very long after the job finishes", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-22 14:43:03.379", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Jakub Nowacki", "name": "jsnowacki", "self": "https://issues.apache.org/jira/rest/api/2/user?username=jsnowacki", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "j dot s dot nowacki at gmail dot com", "key": "jsnowacki", "active": true, "timeZone": "Europe/Warsaw"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Jakub Nowacki", "name": "jsnowacki", "self": "https://issues.apache.org/jira/rest/api/2/user?username=jsnowacki", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "j dot s dot nowacki at gmail dot com", "key": "jsnowacki", "active": true, "timeZone": "Europe/Warsaw"}, "created": "2017-03-21T22:05:42.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3clm7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20049/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "I was testing writing DataFrame to partitioned Parquet files.The command is quite straight forward and the data set is really a sample from larger data set in Parquet; the job is done in PySpark on YARN and written to HDFS:\r\n{code}\r\n# there is column 'date' in df\r\ndf.write.partitionBy(\"date\").parquet(\"dest_dir\")\r\n{code}\r\nThe reading part took as long as usual, but after the job has been marked in PySpark and UI as finished, the Python interpreter still was showing it as busy. Indeed, when I checked the HDFS folder I noticed that the files are still transferred from {{dest_dir/_temporary}} to all the {{dest_dir/date=*}} folders. \r\n\r\nFirst of all it takes much longer than saving the same set without partitioning. Second, it is done in the background, without visible progress of any kind. ", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322612", "id": "12322612", "name": "Input/Output"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058019", "id": "13058019", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20048", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20048/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 21 21:20:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-29T19:36:11.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Kunal Khamar", "name": "kunalkhamar", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kunalkhamar", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "kkhamar at outlook dot com", "key": "kunalkhamar", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Cloning SessionState does not clone query execution listeners", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_1198017_*|*_3_*:*_1_*:*_684960831_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 21:20:03.097", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Kunal Khamar", "name": "kunalkhamar", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kunalkhamar", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "kkhamar at outlook dot com", "key": "kunalkhamar", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498596", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "Add ability to clone SparkSession with an identical copy of the SessionState"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13041906", "id": "13041906", "key": "SPARK-19540"}, "type": {"outward": "contains", "inward": "Is contained by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060", "id": "12310060", "name": "Container"}, "id": "12498596"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kunal Khamar", "name": "kunalkhamar", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kunalkhamar", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "kkhamar at outlook dot com", "key": "kunalkhamar", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-21T21:00:12.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cljb:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-29T19:36:11.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20048/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": null, "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13058006", "id": "13058006", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20047", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20047/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue May 02 04:54:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-15T22:44:16.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Yanbo Liang", "name": "yanboliang", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yanboliang", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "ybliang8 at gmail dot com", "key": "yanboliang", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Constrained Logistic Regression", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_2637061932_*|*_3_*:*_1_*:*_560728380_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-04-03 14:15:22.433", "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "timeestimate": null, "creator": {"displayName": "DB Tsai", "name": "dbtsai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=dbtsai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dbtsai&avatarId=21803", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dbtsai&avatarId=21803", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dbtsai&avatarId=21803", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dbtsai&avatarId=21803"}, "emailAddress": "dbtsai at dbtsai dot com", "key": "dbtsai", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12503655", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "Python API Changes for Constrained Logistic Regression Params"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13069236", "id": "13069236", "key": "SPARK-20601"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12503655"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "DB Tsai", "name": "dbtsai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=dbtsai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dbtsai&avatarId=21803", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dbtsai&avatarId=21803", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dbtsai&avatarId=21803", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dbtsai&avatarId=21803"}, "emailAddress": "dbtsai at dbtsai dot com", "key": "dbtsai", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-21T20:38:09.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3clhr:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-04-27T20:54:39.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20047/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "For certain applications, such as stacked regressions, it is important to put non-negative constraints on the regression coefficients. Also, if the ranges of coefficients are known, it makes sense to constrain the coefficient search space.\r\n\r\nFitting generalized constrained regression models object to C\u03b2 \u2264 b, where C \u2208 R^\\{m\u00d7p\\} and b \u2208 R^\\{m\\} are predefined matrices and vectors which places a set of m linear constraints on the coefficients is very challenging as discussed in many literatures. \r\n\r\nHowever, for box constraints on the coefficients, the optimization is well solved. For gradient descent, people can projected gradient descent in the primal by zeroing the negative weights at each step. For LBFGS, an extended version of it, LBFGS-B can handle large scale box optimization efficiently. Unfortunately, for OWLQN, there is no good efficient way to do optimization with box constrains.\r\n\r\nAs a result, in this work, we only implement constrained LR with box constrains without L1 regularization. \r\n\r\nNote that since we standardize the data in training phase, so the coefficients seen in the optimization subroutine are in the scaled space; as a result, we need to convert the box constrains into scaled space.\r\n\r\nUsers will be able to set the lower / upper bounds of each coefficients and intercepts.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12340470", "archived": false, "id": "12340470", "name": "2.2.1"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322621", "description": "Machine learning library", "id": "12322621", "name": "MLlib"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057999", "id": "13057999", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20046", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20046/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 21 19:27:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-26T07:21:08.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Kazuaki Ishizaki", "name": "kiszk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kiszk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kiszk&avatarId=25635", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kiszk&avatarId=25635", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kiszk&avatarId=25635", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kiszk&avatarId=25635"}, "emailAddress": "ishizaki at jp dot ibm dot com", "key": "kiszk", "active": true, "timeZone": "Asia/Tokyo"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Facilitate loop optimizations in a JIT compiler regarding sqlContext.read.parquet()", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_1005697_*|*_3_*:*_1_*:*_388437065_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 19:27:03.94", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Kazuaki Ishizaki", "name": "kiszk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kiszk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kiszk&avatarId=25635", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kiszk&avatarId=25635", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kiszk&avatarId=25635", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kiszk&avatarId=25635"}, "emailAddress": "ishizaki at jp dot ibm dot com", "key": "kiszk", "active": true, "timeZone": "Asia/Tokyo"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Kazuaki Ishizaki", "name": "kiszk", "self": "https://issues.apache.org/jira/rest/api/2/user?username=kiszk", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kiszk&avatarId=25635", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kiszk&avatarId=25635", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kiszk&avatarId=25635", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kiszk&avatarId=25635"}, "emailAddress": "ishizaki at jp dot ibm dot com", "key": "kiszk", "active": true, "timeZone": "Asia/Tokyo"}, "created": "2017-03-21T19:10:25.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cldr:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-26T07:21:08.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20046/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "[This article|https://databricks.com/blog/2017/02/16/processing-trillion-rows-per-second-single-machine-can-nested-loop-joins-fast.html] suggests that better generated code can improve performance by facilitating compiler optimizations.\r\nThis JIRA changes the generated code for {{sqlContext.read.parquet(\"file\")}} to facilitate loop optimizations in a JIT compiler for achieving better performance. In particular, [this stackoverflow entry|http://stackoverflow.com/questions/40629435/fast-parquet-row-count-in-spark] suggests me to improve performance of {{sqlContext.read.parquet(\"file\").count}}}.\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057981", "id": "13057981", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20045", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20045/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "2017-03-21 12:19:47.0", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T12:19:47.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Make sure SparkHadoopMapReduceWriter is resilient to failures of writers and committers", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Steve Loughran", "name": "stevel@apache.org", "self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513"}, "emailAddress": "stevel at hortonworks dot com", "key": "stevel@apache.org", "active": true, "timeZone": "Europe/London"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Steve Loughran", "name": "stevel@apache.org", "self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513"}, "emailAddress": "stevel at hortonworks dot com", "key": "stevel@apache.org", "active": true, "timeZone": "Europe/London"}, "created": "2017-03-21T12:19:47.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3ckpb:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20045/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Following on from SPARK-20038: review {{SparkHadoopMapReduceWriter}} and ensure that it's failure handling code is itself resilient to follow on failures, especially in things like {{writer.close()}} and the abortTask/abortJob calls. That's to ensure as robust a cleanup as possible, and to stop the original exception getting lost.\r\n\r\nAt a quick glance \r\n\r\n1. {{executeTask()}}'s catch logic should catch & log any failure in the {{writer.close()}} \r\n2. The Hadoop commit protocol's abort* operation's can throw IOEs. Again, they need to be caught and logged\r\n\r\nShould be testable with mocking, and worthwhile giving how important commit protocol resilience is.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057870", "id": "13057870", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20044", "fields": {"labels": ["reverse-proxy", "sso"], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20044/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 28 09:09:08 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-28T09:09:48.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Support Spark UI behind front-end reverse proxy using a path prefix", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-21 20:07:51.339", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Oliver Koeth", "name": "okoethibm", "self": "https://issues.apache.org/jira/rest/api/2/user?username=okoethibm", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "okoeth at de dot ibm dot com", "key": "okoethibm", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Oliver Koeth", "name": "okoethibm", "self": "https://issues.apache.org/jira/rest/api/2/user?username=okoethibm", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "okoeth at de dot ibm dot com", "key": "okoethibm", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-21T11:51:59.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3ckn3:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20044/watchers", "watchCount": 7, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "Purpose: allow to run the Spark web UI behind a reverse proxy with URLs prefixed by a context root, like www.mydomain.com/spark. In particular, this allows to access multiple Spark clusters through the same virtual host, only distinguishing them by context root, like www.mydomain.com/cluster1, www.mydomain.com/cluster2, and it allows to run the Spark UI in a common cookie domain (for SSO) with other services.\r\n\r\n[SPARK-15487] introduced some support for front-end reverse proxies by allowing all Spark UI requests to be routed through the master UI as a single endpoint and also added a spark.ui.reverseProxyUrl setting to define a another proxy sitting in front of Spark. However, as noted in the comments on [SPARK-15487], this mechanism does not currently work if the reverseProxyUrl includes a context root like the examples above: Most links generated by the Spark UI result in full path URLs (like /proxy/app-\"id\"/...) that do not account for a path prefix (context root) and work only if the Spark UI \"owns\" the entire virtual host. In fact, the only place in the UI where the reverseProxyUrl seems to be used is the back-link from the worker UI to the master UI.\r\n\r\nThe discussion on [SPARK-15487] proposes to open a new issue for the problem, but that does not seem to have happened, so this issue aims to address the remaining shortcomings of spark.ui.reverseProxyUrl\r\n\r\nThe problem can be partially worked around by doing content rewrite in a front-end proxy and prefixing src=\"/...\" or href=\"/...\" links with a context root. However, detecting and patching URLs in HTML output is not a robust approach and breaks down for URLs included in custom REST responses. E.g. the \"allexecutors\" REST call used from the Spark 2.1.0 application/executors page returns links for log viewing that direct to the worker UI and do not work in this scenario.\r\n\r\nThis issue proposes to honor spark.ui.reverseProxyUrl throughout Spark UI URL generation. Experiments indicate that most of this can simply be achieved by using/prepending spark.ui.reverseProxyUrl to the existing spark.ui.proxyBase system property. Beyond that, the places that require adaption are\r\n- worker and application links in the master web UI\r\n- webui URLs returned by REST interfaces\r\n\r\nNote: It seems that returned redirect location headers do not need to be adapted, since URL rewriting for these is commonly done in front-end proxies and has a well-defined interface\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322616", "id": "12322616", "name": "Web UI"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057860", "id": "13057860", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20043", "fields": {"labels": ["starter"], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20043/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 28 23:14:30 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-28T23:14:30.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Yan Facai (\u989c\u53d1\u624d)", "name": "facai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=facai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=facai&avatarId=31283", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=facai&avatarId=31283", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=facai&avatarId=31283", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=facai&avatarId=31283"}, "emailAddress": "facai dot yan at gmail dot com", "key": "facai", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Decision Tree loader does not handle uppercase impurity param values", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_241780105_*|*_3_*:*_1_*:*_413301127_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 17:10:42.982", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Zied Sellami", "name": "zsellami", "self": "https://issues.apache.org/jira/rest/api/2/user?username=zsellami", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "zsellami at linagora dot com", "key": "zsellami", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Zied Sellami", "name": "zsellami", "self": "https://issues.apache.org/jira/rest/api/2/user?username=zsellami", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "zsellami at linagora dot com", "key": "zsellami", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-21T09:16:29.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12311820": "0|i3ckgv:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-28T23:14:30.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20043/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I saved a CrossValidatorModel with a decision tree and a random forest. I use Paramgrid to test \"gini\" and \"entropy\" impurity. CrossValidatorModel are not able to load the saved model, when impurity are written not in lowercase. I obtain an error from Spark \"impurity Gini (Entropy) not recognized.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057832", "id": "13057832", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20042", "fields": {"labels": ["reverse-proxy"], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20042/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Apr 05 07:10:06 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-05T07:11:01.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Oliver Koeth", "name": "okoethibm", "self": "https://issues.apache.org/jira/rest/api/2/user?username=okoethibm", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "okoeth at de dot ibm dot com", "key": "okoethibm", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Buttons on executor log page don't work with spark.ui.reverseProxy=true", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_3367350_*|*_3_*:*_1_*:*_1292936124_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 08:01:03.117", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Oliver Koeth", "name": "okoethibm", "self": "https://issues.apache.org/jira/rest/api/2/user?username=okoethibm", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "okoeth at de dot ibm dot com", "key": "okoethibm", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Oliver Koeth", "name": "okoethibm", "self": "https://issues.apache.org/jira/rest/api/2/user?username=okoethibm", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "okoeth at de dot ibm dot com", "key": "okoethibm", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-21T07:05:03.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3ckan:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-04-05T07:10:06.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20042/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12340295", "archived": false, "id": "12340295", "name": "2.1.2"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "The \"Load More\" and \"Load New\" buttons on the executor log page generate full-path URLs to the \"/log\" REST end point in the worker. If the worker is served via master reverse proxy (spark.ui.reverseProxy=true), the calls go to the master web UI and return the HTML for the master page, instead of the expected REST data.\r\n\r\nSuccessfully tested the following fix:\r\nUse JavaScript in log-view.js that checks for a /proxy/<target>/ portion in the URL and prefixes that to the REST call, similar to the way this is done in executorspage.js\r\n\r\nfunction getRESTEndPoint() {\r\n      var words = document.baseURI.split('/');\r\n      var ind = words.indexOf(\"proxy\");\r\n      if (ind > 0) {\r\n          return words.slice(0, ind + 2).join('/') + \"/log\";\r\n      }\r\n      return \"/log\"\r\n}\r\n\r\nfunction loadNew() {\r\n  $.ajax({\r\n    type: \"GET\",\r\n    url: getRESTEndPoint() + baseParams + \"&byteLength=0\",\r\n... etc", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322616", "id": "12322616", "name": "Web UI"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057804", "id": "13057804", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20041", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20041/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 21 06:34:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T15:46:45.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "zhengruifeng", "name": "podongfeng", "self": "https://issues.apache.org/jira/rest/api/2/user?username=podongfeng", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=podongfeng&avatarId=26870", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=podongfeng&avatarId=26870", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=podongfeng&avatarId=26870", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=podongfeng&avatarId=26870"}, "emailAddress": "ruifengz at foxmail dot com", "key": "podongfeng", "active": true, "timeZone": "Asia/Hong_Kong"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Update docs for NaN handling in approxQuantile", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_111969_*|*_3_*:*_1_*:*_33155932_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 06:34:02.905", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "zhengruifeng", "name": "podongfeng", "self": "https://issues.apache.org/jira/rest/api/2/user?username=podongfeng", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=podongfeng&avatarId=26870", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=podongfeng&avatarId=26870", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=podongfeng&avatarId=26870", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=podongfeng&avatarId=26870"}, "emailAddress": "ruifengz at foxmail dot com", "key": "podongfeng", "active": true, "timeZone": "Asia/Hong_Kong"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "zhengruifeng", "name": "podongfeng", "self": "https://issues.apache.org/jira/rest/api/2/user?username=podongfeng", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=podongfeng&avatarId=26870", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=podongfeng&avatarId=26870", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=podongfeng&avatarId=26870", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=podongfeng&avatarId=26870"}, "emailAddress": "ruifengz at foxmail dot com", "key": "podongfeng", "active": true, "timeZone": "Asia/Hong_Kong"}, "created": "2017-03-21T06:32:17.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3ck87:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-21T15:46:45.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20041/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "{{approxQuantile}} in R and Python now support multi-column, and the current note about NaN handling is out of date:\r\n{{Note that rows containing any null values will be removed before calculation.}}", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12325400", "description": "R language support", "id": "12325400", "name": "SparkR"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057793", "id": "13057793", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20040", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20040/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 29 02:20:00 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-29T02:20:00.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Bago Amirbekian", "name": "bago.amirbekian", "self": "https://issues.apache.org/jira/rest/api/2/user?username=bago.amirbekian", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "bago at databricks dot com", "key": "bago.amirbekian", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Python API for ml.stat.ChiSquareTest", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_327734520_*|*_3_*:*_1_*:*_353330730_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 18:43:04.274", "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "timeestimate": null, "creator": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498533", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "Rename ml.stat.ChiSquare to ml.stat.ChiSquareTest"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057782", "id": "13057782", "key": "SPARK-20039"}, "type": {"outward": "blocks", "inward": "is blocked by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10032", "id": "10032", "name": "Blocker"}, "id": "12498533"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498532", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "summary": "Feature parity for Chi-square hypothesis testing in MLlib"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13043748", "id": "13043748", "key": "SPARK-19635"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498532"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "created": "2017-03-21T05:08:55.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12311820": "0|i3ck5z:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-29T02:20:00.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20040/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Add PySpark wrapper for ChiSquareTest.  Note that it's currently called ChiSquare, but I'm about to rename it to ChiSquareTest in [SPARK-20039]", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057783", "id": "13057783", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20039", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20039/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 21 18:02:00 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T18:02:07.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Rename ml.stat.ChiSquare to ml.stat.ChiSquareTest", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_454445_*|*_3_*:*_1_*:*_46005694_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 05:15:02.749", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498533", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "Python API for ml.stat.ChiSquareTest"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057783", "id": "13057783", "key": "SPARK-20040"}, "type": {"outward": "blocks", "inward": "is blocked by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10032", "id": "10032", "name": "Blocker"}, "id": "12498533"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "created": "2017-03-21T05:07:40.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3ck5r:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-21T18:02:00.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20039/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I realized that since {{ChiSquare}} is in the package {{stat}}, it's pretty unclear if it's the hypothesis test, distribution, or what.  I plan to rename it to {{ChiSquareTest}} to clarify this.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057782", "id": "13057782", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20038", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20038/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Apr 13 20:31:29 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-16T07:27:49.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Steve Loughran", "name": "stevel@apache.org", "self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513"}, "emailAddress": "stevel at hortonworks dot com", "key": "stevel@apache.org", "active": true, "timeZone": "Europe/London"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "FileFormatWriter.ExecuteWriteTask.releaseResources() implementations to be re-entrant", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_2164015_*|*_3_*:*_1_*:*_2075118300_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 20:06:04.586", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Steve Loughran", "name": "stevel@apache.org", "self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513"}, "emailAddress": "stevel at hortonworks dot com", "key": "stevel@apache.org", "active": true, "timeZone": "Europe/London"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12500890", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "NPE when saving Parquet To HDFS"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12857189", "id": "12857189", "key": "SPARK-10109"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12500890"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498465", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "S3A multipart commit failing, \"UnsupportedOperationException at java.util.Collections$UnmodifiableList.sort\""}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057567", "id": "13057567", "key": "HADOOP-14204"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498465"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498464", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "NPE when saving Parquet To HDFS"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12857189", "id": "12857189", "key": "SPARK-10109"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498464"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Steve Loughran", "name": "stevel@apache.org", "self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513"}, "emailAddress": "stevel at hortonworks dot com", "key": "stevel@apache.org", "active": true, "timeZone": "Europe/London"}, "created": "2017-03-20T19:30:07.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cjdj:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-04-13T20:31:29.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20038/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Both {{FileFormatWriter.ExecuteWriteTask.releaseResources()}} implementations {{close()}} any non-null {{currentWriter}}, then set the field to null\r\n\r\nHowever, if the close() call throws an exception in the execution of {{{FileFormatWriter.executeTask}}, the exception handler will attempt to cleanup, by calling {{releaseResources()}} again. Looking at the codepath, this may cause {{committer.abortTask()}} to get skipped on failure.\r\n\r\n\r\nThis surfaces in SPARK-10109 and I've just seen it in HADOOP-14204); Parquet seems to be in the trace as it NPEs the second time it's {{close()}} method is called.\r\n\r\nFix: always set {{currentWriter}} to null,", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057655", "id": "13057655", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20037", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20037/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Apr 12 16:49:25 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-13T08:54:43.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "impossible to set kafka offsets using kafka 0.10 and spark 2.0.0", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_2040197126_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 13:28:45.914", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Daniel Nuriyev", "name": "danielnuriyev", "self": "https://issues.apache.org/jira/rest/api/2/user?username=danielnuriyev", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "daniel dot nuriyev at gmail dot com", "key": "danielnuriyev", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12500701", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "impossible to read a whole kafka topic using kafka 0.10 and spark 2.0.0 "}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057613", "id": "13057613", "key": "SPARK-20036"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12500701"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Daniel Nuriyev", "name": "danielnuriyev", "self": "https://issues.apache.org/jira/rest/api/2/user?username=danielnuriyev", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "daniel dot nuriyev at gmail dot com", "key": "danielnuriyev", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-20T18:11:26.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cj53:", "versions": [{"archived": false, "name": "2.0.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12329449", "releaseDate": "2016-07-27", "released": true, "id": "12329449", "description": ""}], "resolutiondate": "2017-04-13T08:54:43.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20037/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "2.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I use kafka 0.10.1 and java code with the following dependencies:\r\n<dependency>\r\n<groupId>org.apache.kafka</groupId>\r\n<artifactId>kafka_2.11</artifactId>\r\n<version>0.10.1.1</version>\r\n</dependency>\r\n<dependency>\r\n<groupId>org.apache.kafka</groupId>\r\n<artifactId>kafka-clients</artifactId>\r\n<version>0.10.1.1</version>\r\n</dependency>\r\n<dependency>\r\n<groupId>org.apache.spark</groupId>\r\n<artifactId>spark-streaming_2.11</artifactId>\r\n<version>2.0.0</version>\r\n</dependency>\r\n<dependency>\r\n<groupId>org.apache.spark</groupId>\r\n<artifactId>spark-streaming-kafka-0-10_2.11</artifactId>\r\n<version>2.0.0</version>\r\n</dependency>\r\n\r\nThe code tries to read the a topic starting with offsets. \r\nThe topic has 4 partitions that start somewhere before 585000 and end after 674000. So I wanted to read all partitions starting with 585000\r\n\r\n            fromOffsets.put(new TopicPartition(topic, 0), 585000L);\r\n            fromOffsets.put(new TopicPartition(topic, 1), 585000L);\r\n            fromOffsets.put(new TopicPartition(topic, 2), 585000L);\r\n            fromOffsets.put(new TopicPartition(topic, 3), 585000L);\r\nUsing 5 second batches:\r\njssc = new JavaStreamingContext(conf, Durations.seconds(5));\r\n\r\nThe code immediately throws:\r\nBeginning offset 585000 is after the ending offset 584464 for topic commerce_item_expectation partition 1\r\n\r\nIt does not make sense because this topic/partition starts at 584464, not ends\r\n\r\nI use this as a base: https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html\r\nBut I use direct stream:\r\nKafkaUtils.createDirectStream(jssc,LocationStrategies.PreferConsistent(),\r\n    ConsumerStrategies.<String, String>Subscribe(\r\n        topics, kafkaParams, fromOffsets\r\n    )\r\n)\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322612", "id": "12322612", "name": "Input/Output"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/3", "id": "3", "name": "Duplicate", "description": "The problem is a duplicate of an existing issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057617", "id": "13057617", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20036", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20036/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Apr 19 18:00:13 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-19T18:00:13.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Cody Koeninger", "name": "cody@koeninger.org", "self": "https://issues.apache.org/jira/rest/api/2/user?username=cody%40koeninger.org", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "cody at koeninger dot org", "key": "cody@koeninger.org", "active": true, "timeZone": "America/Chicago"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "impossible to read a whole kafka topic using kafka 0.10 and spark 2.0.0 ", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_2517541678_*|*_3_*:*_1_*:*_74404503_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 22:31:25.768", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Daniel Nuriyev", "name": "danielnuriyev", "self": "https://issues.apache.org/jira/rest/api/2/user?username=danielnuriyev", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "daniel dot nuriyev at gmail dot com", "key": "danielnuriyev", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12500701", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "impossible to set kafka offsets using kafka 0.10 and spark 2.0.0"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057617", "id": "13057617", "key": "SPARK-20037"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12500701"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Daniel Nuriyev", "name": "danielnuriyev", "self": "https://issues.apache.org/jira/rest/api/2/user?username=danielnuriyev", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "daniel dot nuriyev at gmail dot com", "key": "danielnuriyev", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-20T18:01:07.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cj47:", "versions": [{"archived": false, "name": "2.0.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12329449", "releaseDate": "2016-07-27", "released": true, "id": "12329449", "description": ""}], "resolutiondate": "2017-04-19T18:00:13.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20036/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "2.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I use kafka 0.10.1 and java code with the following dependencies:\r\n<dependency>\r\n            <groupId>org.apache.kafka</groupId>\r\n            <artifactId>kafka_2.11</artifactId>\r\n            <version>0.10.1.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.kafka</groupId>\r\n            <artifactId>kafka-clients</artifactId>\r\n            <version>0.10.1.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.spark</groupId>\r\n            <artifactId>spark-streaming_2.11</artifactId>\r\n            <version>2.0.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.spark</groupId>\r\n            <artifactId>spark-streaming-kafka-0-10_2.11</artifactId>\r\n            <version>2.0.0</version>\r\n        </dependency>\r\nThe code tries to read the whole topic using:\r\nkafkaParams.put(\"auto.offset.reset\", \"earliest\");\r\nUsing 5 second batches:\r\njssc = new JavaStreamingContext(conf, Durations.seconds(5));\r\nEach batch returns empty.\r\nI debugged the code I noticed that KafkaUtils.fixKafkaParams is called that overrides \"earliest\" with \"none\".\r\nWhether this is related or not, when I used kafka 0.8 on the client with kafka 0.10.1 on the server, I could read the whole topic.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322607", "description": "Anything related to Spark docs", "id": "12322607", "name": "Documentation"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057613", "id": "13057613", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20035", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20035/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 27 04:02:13 UTC 2017", "customfield_12312720": null, "environment": "Spark 2.0.2\r\nLinux/Windows", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-27T04:02:13.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Spark 2.0.2 writes empty file if no record is in the dataset", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_559851292_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-22 02:43:40.599", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Andrew", "name": "andrew_net", "self": "https://issues.apache.org/jira/rest/api/2/user?username=andrew_net", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "andrew_net at msn dot com", "key": "andrew_net", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12499075", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "CSV fails to write and read back empty dataframe"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12971862", "id": "12971862", "key": "SPARK-15473"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12499075"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Andrew", "name": "andrew_net", "self": "https://issues.apache.org/jira/rest/api/2/user?username=andrew_net", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "andrew_net at msn dot com", "key": "andrew_net", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-20T16:31:22.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3ciwn:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}], "resolutiondate": "2017-03-27T04:02:13.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20035/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "When there is no record in a dataset, the call to write with the spark-csv creates empty file (i.e. with no title line)\r\n\r\n```\r\ndataset.write().format(\"com.databricks.spark.csv\").option(\"header\", \"true\").save(\"... file name here ...\");\r\n\r\nor \r\n\r\ndataset.write().option(\"header\", \"true\").csv(\"... file name here ...\");\r\n```\r\n\r\nThe same file then cannot be read by using the same format (i.e. spark-csv) since it is empty as below. The same call works if the dataset has at least one record.\r\n\r\n```\r\nsqlCtx.read().format(\"com.databricks.spark.csv\").option(\"header\", \"true\").option(\"inferSchema\", \"true\").load(\"... file name here ...\");\r\n\r\nor \r\n\r\nsparkSession.read().option(\"header\", \"true\").option(\"inferSchema\", \"true\").csv(\"... file name here ...\");\r\n```\r\n\r\nThis is not right, you should always be able to read the file that you wrote to.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322612", "id": "12322612", "name": "Input/Output"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/3", "id": "3", "name": "Duplicate", "description": "The problem is a duplicate of an existing issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057579", "id": "13057579", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20034", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20034/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "2017-03-20 14:59:30.0", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-20T14:59:30.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "IndexedRowMatrix should have toLocalMatrix defined on it. ", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": null, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "John Compitello", "name": "johnc1231", "self": "https://issues.apache.org/jira/rest/api/2/user?username=johnc1231", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "j301600 at gmail dot com", "key": "johnc1231", "active": true, "timeZone": "America/New_York"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "John Compitello", "name": "johnc1231", "self": "https://issues.apache.org/jira/rest/api/2/user?username=johnc1231", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "j301600 at gmail dot com", "key": "johnc1231", "active": true, "timeZone": "America/New_York"}, "created": "2017-03-20T14:59:30.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cipz:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20034/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "I think it's unfortunate that to convert an IndexedRowMatrix to a local matrix one must first go through a call to toBlockMatrix. This seems easy enough to fix. ", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322621", "description": "Machine learning library", "id": "12322621", "name": "MLlib"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057549", "id": "13057549", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20033", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20033/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu May 11 17:45:06 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-11T17:45:06.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "spark sql can not use hive permanent function", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_1415179_*|*_3_*:*_1_*:*_4510616857_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 12:48:02.961", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "cen yuhai", "name": "cenyuhai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=cenyuhai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "cenyuhai11 at 163 dot com", "key": "cenyuhai", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "cen yuhai", "name": "cenyuhai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=cenyuhai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "cenyuhai11 at 163 dot com", "key": "cenyuhai", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-20T12:24:34.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cih3:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-05-11T17:45:06.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20033/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "{code}\r\nspark-sql> SELECT concat_all_ws('-', *) from det.result_set where job_id='1028448' limit 10;\r\nError in query: Undefined function: 'concat_all_ws'. This function is neither a registered temporary function nor a permanent function registered in the database 'default'.; line 1 pos 7\r\n{code}\r\n\r\n\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057509", "id": "13057509", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20032", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20032/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 20 14:03:44 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-20T14:03:45.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "SparkIMain getClassOutputDirectory method is missing in spark-repl2.11 with 1.4.1 version.", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_6540456_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 14:00:00.598", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Nupur Sahu", "name": "nup", "self": "https://issues.apache.org/jira/rest/api/2/user?username=nup", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "svits dot cs067 at gmail dot com", "key": "nup", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Nupur Sahu", "name": "nup", "self": "https://issues.apache.org/jira/rest/api/2/user?username=nup", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "svits dot cs067 at gmail dot com", "key": "nup", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-20T12:14:44.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cig7:", "versions": [{"archived": false, "name": "1.4.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12332153", "releaseDate": "2015-07-15", "released": true, "id": "12332153"}], "resolutiondate": "2017-03-20T14:03:44.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20032/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I am trying to compile scala code in java using SparkIMain, i have already done this by using spark-repl_2.10 version but for this i want to use latest spark-repl version i.e 2.11.\r\nFor this i used 1.4.1 version with  spark-repl_2.11 since SparkIMain is missing in versions after 1.4.1\r\nBut there is no getClassOutputDirectory method and i am not getting a way to find where the class files are created after compilation.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057505", "id": "13057505", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20031", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20031/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 20 14:18:21 UTC 2017", "customfield_12312720": null, "environment": "We are using spark standalone environment with two workers. The underlying file system is NFS.", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-20T14:18:21.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "sc.wholeTextFiles + toDebugString takes long time even before action is performed", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_9545810_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 14:06:58.333", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Rakesh Kumar Dash", "name": "dash.rakesh.7@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=dash.rakesh.7%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "dash dot rakesh dot 7 at gmail dot com", "key": "dash.rakesh.7@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Rakesh Kumar Dash", "name": "dash.rakesh.7@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=dash.rakesh.7%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "dash dot rakesh dot 7 at gmail dot com", "key": "dash.rakesh.7@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-20T11:27:52.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "customfield_12311620": null, "customfield_12311820": "0|i3cief:", "versions": [{"archived": false, "name": "1.6.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12333083", "releaseDate": "2016-01-04", "released": true, "id": "12333083"}, {"archived": false, "name": "1.6.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12334910", "releaseDate": "2016-06-25", "released": true, "id": "12334910"}, {"archived": false, "name": "1.6.3", "self": "https://issues.apache.org/jira/rest/api/2/version/12336854", "releaseDate": "2016-11-07", "released": true, "id": "12336854"}], "resolutiondate": "2017-03-20T14:06:58.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20031/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Below is a simple code segment.\r\n\r\ninputForCust is 14762 files totalling 57M only with an average file size as 0.5K. The files are loaded from local filesystem mounted through NFS. In our production environment, we have many files and toDebugString takes 2 hours!!!\r\n\r\n    val inputCustFiles = sc.wholeTextFiles(inputForCust, jobArgs.minPartitions)\r\n    println(\"This prints immediately\")\r\n    inputCustFiles.toDebugString\r\n    println(\"This prints after 20 mins\")\r\n    inputCustFiles.count\r\n    println(\"This prints after 10 mins\")\r\n\r\nNote: We were having some complex transformations after the wholeTextFile and the time was taken in reduceByKey!!! I have simplified the code to reproduce the problem only.\r\n\r\n**My question is, Why inputCustFiles.toDebugString is taking so much time?**\r\n\r\nIf, inputCustFiles.count takes time, I can be assured that it is going to take advantage of the cluster processing power. But inputCustFiles.toDebugString is blocking the driver!!!\r\n\r\nIn the duration of 20 min, I see no activity in the spark UI.\r\n\r\nIf I enable trace level logging, I see below lines\r\n\r\n    [error] [17/03/17 23:23:27] [DEBUG] BlockManager: Getting local block broadcast_1\r\n    [error] [17/03/17 23:23:27] [DEBUG] BlockManager: Level for block broadcast_1 is StorageLevel(true, true, false, true, 1)\r\n    [error] [17/03/17 23:23:27] [DEBUG] BlockManager: Getting block broadcast_1 from memory\r\n    [error] [17/03/17 23:23:43] [TRACE] HeartbeatReceiver: Checking for hosts with no recent heartbeats in HeartbeatReceiver.\r\n    [error] [17/03/17 23:24:43] [TRACE] HeartbeatReceiver: Checking for hosts with no recent heartbeats in HeartbeatReceiver.\r\n    :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n\r\n\r\n**Any idea, if I am doing anything wrong or is this a limitation/bug/design of spark?**\r\n\r\nNote:\r\n\r\n- We are using 1.6.2.\r\n- The time takes for toDebugString increases if the number of input file changes!!!\r\n\r\nBelow is the stack trace at the time driver is blocked\r\n\r\n    java.io.FileInputStream.readBytes(Native Method)\r\n    java.io.FileInputStream.read(FileInputStream.java:255)\r\n    java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\r\n    java.io.BufferedInputStream.read(BufferedInputStream.java:345)\r\n    sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n    sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n    sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n    java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n    java.io.BufferedReader.fill(BufferedReader.java:161)\r\n    java.io.BufferedReader.read1(BufferedReader.java:212)\r\n    java.io.BufferedReader.read(BufferedReader.java:286)\r\n    org.apache.hadoop.util.Shell$ShellCommandExecutor.parseExecResult(Shell.java:602)\r\n    org.apache.hadoop.util.Shell.runCommand(Shell.java:446)\r\n    org.apache.hadoop.util.Shell.run(Shell.java:379)\r\n    org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:589)\r\n    org.apache.hadoop.util.Shell.execCommand(Shell.java:678)\r\n    org.apache.hadoop.util.Shell.execCommand(Shell.java:661)\r\n    org.apache.hadoop.fs.FileUtil.execCommand(FileUtil.java:1097)\r\n    org.apache.hadoop.fs.RawLocalFileSystem$RawLocalFileStatus.loadPermissionInfo(RawLocalFileSystem.java:567)\r\n    org.apache.hadoop.fs.RawLocalFileSystem$RawLocalFileStatus.getPermission(RawLocalFileSystem.java:542)\r\n    org.apache.hadoop.fs.LocatedFileStatus.<init>(LocatedFileStatus.java:42)\r\n    org.apache.hadoop.fs.FileSystem$4.next(FileSystem.java:1815)\r\n    org.apache.hadoop.fs.FileSystem$4.next(FileSystem.java:1797)\r\n    org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:267)\r\n    org.apache.hadoop.mapreduce.lib.input.CombineFileInputFormat.getSplits(CombineFileInputFormat.java:217)\r\n    org.apache.spark.rdd.WholeTextFileRDD.getPartitions(WholeTextFileRDD.scala:49)\r\n    org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:239)\r\n    org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:237)\r\n    scala.Option.getOrElse(Option.scala:121)\r\n    org.apache.spark.rdd.RDD.partitions(RDD.scala:237)\r\n    org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:35)\r\n    org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:239)\r\n    org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:237)\r\n    scala.Option.getOrElse(Option.scala:121)\r\n    org.apache.spark.rdd.RDD.partitions(RDD.scala:237)\r\n    org.apache.spark.rdd.RDD.firstDebugString$1(RDD.scala:1747)\r\n    org.apache.spark.rdd.RDD.toDebugString(RDD.scala:1781)\r\n    oculus.storeonce.spark.Test$.main(Test.scala:11)\r\n    oculus.storeonce.spark.Test.main(Test.scala)", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322612", "id": "12322612", "name": "Input/Output"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/6", "id": "6", "name": "Invalid", "description": "The problem isn't valid and it can't be fixed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057497", "id": "13057497", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20030", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20030/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 04:28:00 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T04:28:00.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Tathagata Das", "name": "tdas", "self": "https://issues.apache.org/jira/rest/api/2/user?username=tdas", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tdas&avatarId=23663", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tdas&avatarId=23663", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tdas&avatarId=23663", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tdas&avatarId=23663"}, "emailAddress": "tdas at databricks dot com", "key": "tdas", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Add Event Time based Timeout", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_694488_*|*_3_*:*_1_*:*_148911194_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 11:06:03.19", "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "timeestimate": null, "creator": {"displayName": "Tathagata Das", "name": "tdas", "self": "https://issues.apache.org/jira/rest/api/2/user?username=tdas", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tdas&avatarId=23663", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tdas&avatarId=23663", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tdas&avatarId=23663", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tdas&avatarId=23663"}, "emailAddress": "tdas at databricks dot com", "key": "tdas", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "parent": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "mapGroupsWithState - arbitrary stateful operations with Structured Streaming (similar to DStream.mapWithState)"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13031810", "id": "13031810", "key": "SPARK-19067"}, "reporter": {"displayName": "Tathagata Das", "name": "tdas", "self": "https://issues.apache.org/jira/rest/api/2/user?username=tdas", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tdas&avatarId=23663", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tdas&avatarId=23663", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tdas&avatarId=23663", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tdas&avatarId=23663"}, "emailAddress": "tdas at databricks dot com", "key": "tdas", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-20T10:54:34.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cicf:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-22T04:28:00.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20030/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": null, "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057488", "id": "13057488", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20029", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20029/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 20 10:13:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-20T10:16:26.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "LiR supports bound constrained optimization", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-20 10:13:02.858", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Yanbo Liang", "name": "yanboliang", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yanboliang", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "ybliang8 at gmail dot com", "key": "yanboliang", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Yanbo Liang", "name": "yanboliang", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yanboliang", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "ybliang8 at gmail dot com", "key": "yanboliang", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-20T10:01:43.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": {"displayName": "DB Tsai", "name": "dbtsai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=dbtsai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dbtsai&avatarId=21803", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dbtsai&avatarId=21803", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dbtsai&avatarId=21803", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dbtsai&avatarId=21803"}, "emailAddress": "dbtsai at dbtsai dot com", "key": "dbtsai", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12311820": "0|i3ci9j:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20029/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "MLlib {{LinearRegression}} should support bound constrained optimization. Users can add bound constraints to coefficients to make the solver produce  solution in the specified range.\r\nIn Spark MLlib, we call breeze L-BFGS-B as the solver for bound constrained optimization. And we only support L2 regularization currently.\r\n\r\n* https://neos-guide.org/content/bound-constrained-optimization\r\n* http://users.iems.northwestern.edu/~nocedal/lbfgsb.html", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057475", "id": "13057475", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20028", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20028/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Apr 27 13:46:41 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-27T13:46:41.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Implement NGrams aggregate function", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-20 07:38:01.895", "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "timeestimate": null, "creator": {"displayName": "Chenzhao Guo", "name": "chenzhaoguo-intel", "self": "https://issues.apache.org/jira/rest/api/2/user?username=chenzhaoguo-intel", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "chenzhao dot guo at intel dot com", "key": "chenzhaoguo-intel", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "parent": {"fields": {"status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "Implement all the Hive fallback functions"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12984749", "id": "12984749", "key": "SPARK-16275"}, "reporter": {"displayName": "Chenzhao Guo", "name": "chenzhaoguo-intel", "self": "https://issues.apache.org/jira/rest/api/2/user?username=chenzhaoguo-intel", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "chenzhao dot guo at intel dot com", "key": "chenzhaoguo-intel", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-20T07:01:42.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3ci2n:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20028/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "This is the implementation of `ngrams` aggregate expression which is also implemented by Hive. It takes use of n-gram concept in natural language processing to understand texts.\r\n\r\nCurrently, Spark doesn't support using Hive UDAF GenericUDAFnGrams, which is actually a feature missing.\r\n\r\nAn n-gram is a contiguous subsequence of n item(s) drawn from a given sequence. This expression finds the k most frequent n-grams from one or more sequences. \r\n\r\nThis expression has the pattern of : ngrams(children: Array[Array[String]](or Array[String]), n: Int, k: Int, accuracy: Int), it can be used in conjuction with `sentences` to split the column of String to Array. Among the parameters: \r\nChildren indicates the 'given sequence' we collect n-grams from;\r\nN indicates n-gram's element number, size 1 is referred to as a \"unigram\", size 2 is a \"bigram\", size 3 is a \"trigram\"... \r\nK indicates top k;\r\nAccuracy is related to the memory used for frequency estimation, more memory will give more accurate frequency counts.\r\n\r\nA simple example: \r\n`SELECT ngrams(array(\"abc\", \"abc\", \"bcd\", \"abc\", \"bcd\"), 2, 4);` will get\r\n`[{[\"abc\",\"bcd\"]:2.0}, \r\n{[\"abc\",\"abc\"]:1.0}, \r\n{[\"bcd\",\"abc\"]:1.0}]`. Because there are four 2-grams for the input which are `[\"abc\", \"abc\"], [\"abc\", \"bcd\"], [\"bcd\", \"abc\"], [\"abc\", \"bcd\"]`, and `[\"abc\", \"bcd\"]` occurs 2 times, the other two 2-grams occurs 1 time each, while `[\"abc\",\"abc\"]` is alphabetically before `[\"bcd\",\"abc\"]`, so the answer is like that.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057444", "id": "13057444", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20027", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20027/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 13:52:43 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T13:52:44.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Prashant Sharma", "name": "prashant_", "self": "https://issues.apache.org/jira/rest/api/2/user?username=prashant_", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10443", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443"}, "emailAddress": "scrapcodes at gmail dot com", "key": "prashant_", "active": true, "timeZone": "Asia/Kolkata"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Compilation fixed in java docs.", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_133016_*|*_3_*:*_1_*:*_201274864_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 05:58:03.51", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Prashant Sharma", "name": "prashant_", "self": "https://issues.apache.org/jira/rest/api/2/user?username=prashant_", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10443", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443"}, "emailAddress": "scrapcodes at gmail dot com", "key": "prashant_", "active": true, "timeZone": "Asia/Kolkata"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Prashant Sharma", "name": "prashant_", "self": "https://issues.apache.org/jira/rest/api/2/user?username=prashant_", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10443", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443"}, "emailAddress": "scrapcodes at gmail dot com", "key": "prashant_", "active": true, "timeZone": "Asia/Kolkata"}, "created": "2017-03-20T05:55:56.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3ci0f:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-22T13:52:43.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20027/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "During build/sbt publish-local, build breaks due to javadocs errors. This patch fixes those errors.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322607", "description": "Anything related to Spark docs", "id": "12322607", "name": "Documentation"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057434", "id": "13057434", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20026", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20026/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Apr 06 18:51:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-07T17:57:43.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Wayne Zhang", "name": "actuaryzhang", "self": "https://issues.apache.org/jira/rest/api/2/user?username=actuaryzhang", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "actuaryzhang10 at gmail dot com", "key": "actuaryzhang", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Document R GLM Tweedie family support in programming guide and code example", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_1515640317_*|*_3_*:*_1_*:*_83191876_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-04-04 16:28:36.19", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12499420", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "New Feature", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png", "subtask": false, "id": "2", "description": "A new feature of the product, which has yet to be developed."}, "summary": "Add Tweedie distribution in GLM"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13029291", "id": "13029291", "key": "SPARK-18929"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12499420"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "created": "2017-03-20T05:50:31.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3ci07:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-04-07T17:57:43.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20026/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": null, "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322607", "description": "Anything related to Spark docs", "id": "12322607", "name": "Documentation"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12325400", "description": "R language support", "id": "12325400", "name": "SparkR"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057433", "id": "13057433", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20025", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20025/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Jun 03 06:59:58 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-06-03T06:59:58.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Driver fail over will not work, if SPARK_LOCAL* env is set.", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-20 05:53:04.531", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Prashant Sharma", "name": "prashant_", "self": "https://issues.apache.org/jira/rest/api/2/user?username=prashant_", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10443", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443"}, "emailAddress": "scrapcodes at gmail dot com", "key": "prashant_", "active": true, "timeZone": "Asia/Kolkata"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Prashant Sharma", "name": "prashant_", "self": "https://issues.apache.org/jira/rest/api/2/user?username=prashant_", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10443", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443"}, "emailAddress": "scrapcodes at gmail dot com", "key": "prashant_", "active": true, "timeZone": "Asia/Kolkata"}, "created": "2017-03-20T05:49:05.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chzz:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20025/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "In a bare metal system with No DNS setup, spark may be configured with SPARK_LOCAL* for IP and host properties.\r\nDuring a driver failover, in cluster deployment mode. SPARK_LOCAL* should be ignored while auto deploying and should be picked up from target system's local environment.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12339551", "archived": false, "id": "12339551", "name": "2.3.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057432", "id": "13057432", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20024", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20024/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 20 04:33:05 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T05:54:57.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "SessionCatalog reset need to set the current database of ExternalCatalog", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_125412_*|*_3_*:*_1_*:*_91305274_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 04:33:05.52", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-20T04:31:07.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chxb:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}, {"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-21T05:54:57.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20024/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "SessionCatalog API setCurrentDatabase does not set the current database of the underlying ExternalCatalog. Thus, weird errors could come in the test suites after we call reset. We need to fix it.\r\n\r\nSo far, have not found the direct impact in the other code paths because we expect all the SessionCatalog APIs should always use the current database value we managed, unless some of code paths skip it. Thus, we fix it in the test-only function reset().", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057420", "id": "13057420", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20023", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20023/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Apr 16 12:32:10 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-16T12:32:10.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Can not see table comment when describe formatted table", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_160088991_*|*_3_*:*_1_*:*_43587564_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 02:55:54.68", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "chenerlu", "name": "erlu", "self": "https://issues.apache.org/jira/rest/api/2/user?username=erlu", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=erlu&avatarId=31386", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=erlu&avatarId=31386", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=erlu&avatarId=31386", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=erlu&avatarId=31386"}, "emailAddress": "chenerlu at huawei dot com", "key": "erlu", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "chenerlu", "name": "erlu", "self": "https://issues.apache.org/jira/rest/api/2/user?username=erlu", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=erlu&avatarId=31386", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=erlu&avatarId=31386", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=erlu&avatarId=31386", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=erlu&avatarId=31386"}, "emailAddress": "chenerlu at huawei dot com", "key": "erlu", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-20T02:35:00.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chvj:", "versions": [{"archived": false, "name": "2.0.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12329449", "releaseDate": "2016-07-27", "released": true, "id": "12329449", "description": ""}], "resolutiondate": "2017-03-22T11:09:37.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20023/watchers", "watchCount": 6, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Spark 2.x implements create table by itself.\r\nhttps://github.com/apache/spark/commit/7d2ed8cc030f3d84fea47fded072c320c3d87ca7\r\nBut in the implement mentioned above, it remove table comment from properties, so user can not see table comment through run \"describe formatted table\". Similarly, when user alters table comment, he still can not see the change of table comment through run \"describe formatted table\".\r\nI wonder why we removed table comments, is this a bug?", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057412", "id": "13057412", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20022", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20022/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 20 17:32:33 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-20T17:32:33.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "java.lang.OutOfMemoryError: Unable to acquire 4228 bytes of memory", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_21693199_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 08:22:13.004", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Harish", "name": "harishk15", "self": "https://issues.apache.org/jira/rest/api/2/user?username=harishk15", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "harish dot kumar15 at gmail dot com", "key": "harishk15", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Harish", "name": "harishk15", "self": "https://issues.apache.org/jira/rest/api/2/user?username=harishk15", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "harish dot kumar15 at gmail dot com", "key": "harishk15", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-20T02:20:39.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chuv:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}], "resolutiondate": "2017-03-20T08:22:12.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20022/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I am getting below error in 2.0.2. Any help? or work around?\r\n\r\nWARN TaskSetManager: Lost task 34.0 in stage 2007.0 (TID 498115, <<ip>>):\r\n java.lang.OutOfMemoryError: Unable to acquire 4228 bytes of memory, got 0\r\n\tat org.apache.spark.memory.MemoryConsumer.allocatePage(MemoryConsumer.java:129)\r\n\tat org.apache.spark.util.collection.unsafe.sort.UnsafeExternalSorter.acquireNewPageIfNecessary(UnsafeExternalSorter.java:377)\r\n\tat org.apache.spark.util.collection.unsafe.sort.UnsafeExternalSorter.insertRecord(UnsafeExternalSorter.java:399)\r\n\tat org.apache.spark.sql.execution.UnsafeExternalRowSorter.insertRow(UnsafeExternalRowSorter.java:94)\r\n\tat org.apache.spark.sql.execution.UnsafeExternalRowSorter.sort(UnsafeExternalRowSorter.java:175)\r\n\tat org.apache.spark.sql.execution.SortExec$$anonfun$1.apply(SortExec.scala:98)\r\n\tat org.apache.spark.sql.execution.SortExec$$anonfun$1.apply(SortExec.scala:91)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:803)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:803)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:319)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:283)\r\n\tat org.apache.spark.rdd.ZippedPartitionsRDD2.compute(ZippedPartitionsRDD.scala:89)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:319)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:283)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:319)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:283)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:319)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:283)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:79)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:47)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:86)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:274)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057409", "id": "13057409", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20021", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20021/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 11:10:31 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T11:10:57.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Genmao Yu", "name": "uncleGen", "self": "https://issues.apache.org/jira/rest/api/2/user?username=uncleGen", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hustyugm at gmail dot com", "key": "unclegen", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Miss backslash in python code", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_50404_*|*_3_*:*_1_*:*_205522218_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-20 02:05:03.635", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Genmao Yu", "name": "uncleGen", "self": "https://issues.apache.org/jira/rest/api/2/user?username=uncleGen", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hustyugm at gmail dot com", "key": "unclegen", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Genmao Yu", "name": "uncleGen", "self": "https://issues.apache.org/jira/rest/api/2/user?username=uncleGen", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "hustyugm at gmail dot com", "key": "unclegen", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-20T02:04:19.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3chu7:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}, {"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-22T11:10:31.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20021/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": null, "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322606", "description": "Spark Python API", "id": "12322606", "name": "PySpark"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057406", "id": "13057406", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20020", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20020/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Mon Mar 20 05:44:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-20T06:50:12.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "SparkR should support checkpointing DataFrame", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_132490_*|*_3_*:*_1_*:*_45662350_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-19 18:09:03.376", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "created": "2017-03-19T18:06:58.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chlz:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-20T06:50:12.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20020/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "As an user I want to be able to checkpoint DataFrame to run complex queries, iterative algorithms etc.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322607", "description": "Anything related to Spark docs", "id": "12322607", "name": "Documentation"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12325400", "description": "R language support", "id": "12325400", "name": "SparkR"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057370", "id": "13057370", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20019", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20019/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Mar 22 15:41:31 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-24T11:47:03.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "spark can not load alluxio fileSystem after adding jar", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_423705186_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-19 16:07:56.377", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "roncenzhao", "name": "roncenzhao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=roncenzhao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "334362872 at qq dot com", "key": "roncenzhao", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498910", "outwardIssue": {"fields": {"status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "summary": "Add the ability to add a jar to the current class loader"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/12909128", "id": "12909128", "key": "SPARK-11421"}, "type": {"outward": "duplicates", "inward": "is duplicated by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000", "id": "12310000", "name": "Duplicate"}, "id": "12498910"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "roncenzhao", "name": "roncenzhao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=roncenzhao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "334362872 at qq dot com", "key": "roncenzhao", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-19T14:05:18.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chg7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-24T11:47:03.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20019/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "1.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "The follwing sql cannot load alluxioSystem and it throws `ClassNotFoundException`.\r\n\r\n```\r\nadd jar /xxx/xxx/alluxioxxx.jar;\r\nset fs.alluxio.impl=alluxio.hadoop.FileSystem;\r\n\r\nselect * from alluxionTbl;\r\n```\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/3", "id": "3", "name": "Duplicate", "description": "The problem is a duplicate of an existing issue."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057344", "id": "13057344", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20018", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20018/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 19 13:49:02 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-22T16:59:46.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Pivot with timestamp and count should not print internal representation", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_581658_*|*_3_*:*_1_*:*_270637361_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-19 13:49:02.871", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Hyukjin Kwon", "name": "hyukjin.kwon", "self": "https://issues.apache.org/jira/rest/api/2/user?username=hyukjin.kwon", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hyukjin.kwon&avatarId=31510", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hyukjin.kwon&avatarId=31510", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hyukjin.kwon&avatarId=31510", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hyukjin.kwon&avatarId=31510"}, "emailAddress": "gurwls223 at gmail dot com", "key": "hyukjin.kwon", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-19T13:39:27.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3chfr:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-22T16:59:46.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20018/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "Currently, when we perform count with timestamp types, it prints the internal representation as the column name as below:\r\n\r\n{code}\r\nscala> Seq(new java.sql.Timestamp(1)).toDF(\"a\").groupBy(\"a\").pivot(\"a\").count().show()\r\n+--------------------+----+\r\n|                   a|1000|\r\n+--------------------+----+\r\n|1969-12-31 16:00:...|   1|\r\n+--------------------+----+\r\n{code}\r\n\r\nIt seems this should be \r\n\r\n{code}\r\n+--------------------+-----------------------+\r\n|                   a|1969-12-31 16:00:00.001|\r\n+--------------------+-----------------------+\r\n|1969-12-31 16:00:...|                      1|\r\n+--------------------+-----------------------+\r\n{code}\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057342", "id": "13057342", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20017", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20017/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 19 16:10:27 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T18:34:48.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "roncenzhao", "name": "roncen_zhao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=roncen_zhao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "334362872 at qq dot com", "key": "roncen_zhao", "active": true, "timeZone": "Asia/Hong_Kong"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Functions \"str_to_map\" and \"explode\" throws NPE exceptioin", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_8890669_*|*_3_*:*_1_*:*_181628629_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-19 15:39:03.779", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "roncenzhao", "name": "roncenzhao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=roncenzhao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "334362872 at qq dot com", "key": "roncenzhao", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "roncenzhao", "name": "roncenzhao", "self": "https://issues.apache.org/jira/rest/api/2/user?username=roncenzhao", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "334362872 at qq dot com", "key": "roncenzhao", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-19T13:38:59.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chfj:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-21T18:34:18.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20017/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "1.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "```\r\nval sqlDf = spark.sql(\"select k,v from (select str_to_map('') as map_col from range(2)) tbl lateral view explode(map_col) as k,v\")\r\n\r\nsqlDf.show\r\n```\r\n\r\nThe sql throws NPE exception.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"archived": false, "name": "2.1.1", "self": "https://issues.apache.org/jira/rest/api/2/version/12338779", "releaseDate": "2017-05-02", "released": true, "id": "12338779"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057341", "id": "13057341", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20016", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20016/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 21 18:12:00 UTC 2017", "customfield_12312720": null, "environment": "windows 7, 8, 10, 2008, 2008R2, etc.", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T18:12:00.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "SparkLauncher submit job failed after setConf with special charaters under windows", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-19 13:21:55.81", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Vincent Sun", "name": "VincentSun314513535", "self": "https://issues.apache.org/jira/rest/api/2/user?username=VincentSun314513535", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "314513535 at qq dot com", "key": "vincentsun314513535", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Vincent Sun", "name": "VincentSun314513535", "self": "https://issues.apache.org/jira/rest/api/2/user?username=VincentSun314513535", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "314513535 at qq dot com", "key": "vincentsun314513535", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-19T12:52:30.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3chen:", "versions": [{"archived": false, "name": "2.0.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12329449", "releaseDate": "2016-07-27", "released": true, "id": "12329449", "description": ""}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20016/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "I am using sparkLauncher JAVA API to submit job to a remote spark cluster master.  Codes looks like follow:\r\n\r\n/*\r\n* launch Job\r\n*/\r\npublic static void launch() throws Exception {\r\n    SparkLauncher spark = new SparkLauncher();      spark.setAppName(\"sparkdemo\").setAppResource(\"hdfs://10.250.1.121:9000/application.jar\").setMainClass(\"test.Application\");\r\n    spark.setMaster(spark://10.250.1.120:6066);\r\n    spark.setDeployMode(\"cluster\");\r\n    spark.setConf(\"spark.executor.cores\",\"2\") \r\n    spark.setConf(\"spark.executor.memory\",\"8G\") \r\n    spark.startApplication(new MyAppListener(job.getAppName()));\r\n  }\r\n\r\nIt works fine under Linux/CentOS, but failed on my own desktop which is a windows 8 OS. It will throw out error:\r\n<b>[launcher-proc-1] The filename, directory name, or volume label syntax is incorrect.</b>\r\n\r\nThe finial command I caught is this:\r\nspark-submit.cmd  --master spark://10.250.1.120:6066 --deploy-mode cluster --name sparkdemo --conf \"spark.executor.memory=8G\" --conf \"spark.executor.cores=2\"  --class test.Application hdfs://10.250.1.121:9000/application.jar\r\n\r\nThe quote on spark.executor.memory=8G and spark.executor.cores=2 cause the exception.\r\n\r\nAfter debug into the source code I found the reason is at:\r\nquoteForBatchScript method of CommandBuilderUtils class\r\n\r\nIt will add quotes while there is '=' or some other kinds of special characters under windows system. Here is the source codes:\r\n\r\nstatic String quoteForBatchScript(String arg) {\r\n\r\n    boolean needsQuotes = false;\r\n    for (int i = 0; i < arg.length(); i++) {\r\n      int c = arg.codePointAt(i);\r\n      if (Character.isWhitespace(c) || c == '\"' || c == '=' || c == ',' || c == ';') {\r\n        needsQuotes = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!needsQuotes) {\r\n      return arg;\r\n    }\r\n    StringBuilder quoted = new StringBuilder();\r\n    quoted.append(\"\\\"\");\r\n    for (int i = 0; i < arg.length(); i++) {\r\n      int cp = arg.codePointAt(i);\r\n      switch (cp) {\r\n      case '\"':\r\n        quoted.append('\"');\r\n        break;\r\n\r\n      default:\r\n        break;\r\n      }\r\n      quoted.appendCodePoint(cp);\r\n    }\r\n    if (arg.codePointAt(arg.length() - 1) == '\\\\') {\r\n      quoted.append(\"\\\\\");\r\n    }\r\n    quoted.append(\"\\\"\");\r\n    return quoted.toString();\r\n  }\r\n\r\n\r\n\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322611", "id": "12322611", "name": "Java API"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057337", "id": "13057337", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20015", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20015/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Apr 30 23:22:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-05T03:59:56.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Document R Structured Streaming (experimental) in R vignettes and R & SS programming guide, R example", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_3714807570_*|*_3_*:*_1_*:*_362266407_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-04-18 20:50:03.09", "issuetype": {"name": "Documentation", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/20", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/documentation.png", "subtask": false, "id": "20", "description": "Documentation or Website"}, "timeestimate": null, "creator": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [{"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12498357", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "summary": "Structured Streaming API for R"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13044188", "id": "13044188", "key": "SPARK-19654"}, "type": {"outward": "relates to", "inward": "is related to", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030", "id": "10030", "name": "Reference"}, "id": "12498357"}, {"self": "https://issues.apache.org/jira/rest/api/2/issueLink/12502101", "inwardIssue": {"fields": {"status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/2", "name": "Critical", "id": "2"}, "issuetype": {"name": "Sub-task", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png", "subtask": true, "id": "7", "description": "The sub-task of the issue"}, "summary": "SparkR 2.2 QA: Programming guide, migration guide, vignettes updates"}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13067520", "id": "13067520", "key": "SPARK-20512"}, "type": {"outward": "depends upon", "inward": "is depended upon by", "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10001", "id": "10001", "name": "dependent"}, "id": "12502101"}], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Felix Cheung", "name": "felixcheung", "self": "https://issues.apache.org/jira/rest/api/2/user?username=felixcheung", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "felixcheung_m at hotmail dot com", "key": "felixcheung", "active": true, "timeZone": "America/Vancouver"}, "created": "2017-03-18T23:28:42.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3ch5r:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-05-05T03:59:56.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20015/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12339551", "archived": false, "id": "12339551", "name": "2.3.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": null, "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12339551", "archived": false, "id": "12339551", "name": "2.3.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322607", "description": "Anything related to Spark docs", "id": "12322607", "name": "Documentation"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12325400", "description": "R language support", "id": "12325400", "name": "SparkR"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057297", "id": "13057297", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20014", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20014/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sun Mar 19 00:26:04 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-05-26T20:42:02.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Sital Kedia", "name": "sitalkedia@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sitalkedia%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sitalkedia at gmail dot com", "key": "sitalkedia@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Optimize mergeSpillsWithFileStream method", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_6632508_*|*_3_*:*_1_*:*_5948151959_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-19 00:26:04.6", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Sital Kedia", "name": "sitalkedia@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sitalkedia%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sitalkedia at gmail dot com", "key": "sitalkedia@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Sital Kedia", "name": "sitalkedia@gmail.com", "self": "https://issues.apache.org/jira/rest/api/2/user?username=sitalkedia%40gmail.com", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "sitalkedia at gmail dot com", "key": "sitalkedia@gmail.com", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-18T22:35:38.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3ch4n:", "versions": [{"archived": false, "name": "2.0.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12329449", "releaseDate": "2016-07-27", "released": true, "id": "12329449", "description": ""}], "resolutiondate": "2017-05-26T20:42:02.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20014/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12339551", "archived": false, "id": "12339551", "name": "2.3.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "When the individual partition size in a spill is small, mergeSpillsWithTransferTo method does many small disk ios which is really inefficient. One way to improve the performance will be to use mergeSpillsWithFileStream method by turning off transfer to and using buffered file read/write to improve the io throughput. \r\nHowever, the current implementation of mergeSpillsWithFileStream does not do a buffer read/write of the files and in addition to that it unnecessarily flushes the output files for each partitions.  ", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322605", "id": "12322605", "name": "Spark Core"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057292", "id": "13057292", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20013", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20013/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Apr 21 14:59:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-21T14:59:03.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "merge renameTable to alterTable in ExternalCatalog", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-18 17:06:02.942", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Song Jun", "name": "windpiger", "self": "https://issues.apache.org/jira/rest/api/2/user?username=windpiger", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "songjun435 at gmail dot com", "key": "windpiger", "active": true, "timeZone": "Asia/Shanghai"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Song Jun", "name": "windpiger", "self": "https://issues.apache.org/jira/rest/api/2/user?username=windpiger", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "songjun435 at gmail dot com", "key": "windpiger", "active": true, "timeZone": "Asia/Shanghai"}, "created": "2017-03-18T12:21:10.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cguf:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20013/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "Currently when we create / rename a managed table, we should get the defaultTablePath for them in ExternalCatalog, then we have two defaultTablePath logic in its two subclass HiveExternalCatalog and InMemoryCatalog, additionally there is also a defaultTablePath in SessionCatalog, so till now we have three defaultTablePath in three classes. \r\nwe'd better to unify them up to SessionCatalog\r\n\r\nTo unify them, we should move some logic from ExternalCatalog to SessionCatalog, renameTable is one of this.\r\n\r\nwhile limit to the simple parameters in renameTable \r\n{code}\r\n  def renameTable(db: String, oldName: String, newName: String): Unit\r\n{code}\r\neven if we move the defaultTablePath logic to SessionCatalog, we can not pass it to renameTable.\r\n\r\nSo we can add a newTablePath parameter  for renameTable in ExternalCatalog ", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057246", "id": "13057246", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20012", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20012/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Mar 18 16:53:13 UTC 2017", "customfield_12312720": null, "environment": "pyspark", "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-24T07:45:50.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "spark.read.csv schemas effectively ignore headers", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_503886061_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-18 16:53:13.598", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "david cottrell", "name": "cottrell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=cottrell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "david dot cottrell at gmail dot com", "key": "cottrell", "active": true, "timeZone": "Europe/London"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "david cottrell", "name": "cottrell", "self": "https://issues.apache.org/jira/rest/api/2/user?username=cottrell", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "david dot cottrell at gmail dot com", "key": "cottrell", "active": true, "timeZone": "Europe/London"}, "created": "2017-03-18T11:47:44.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cgtr:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-24T07:45:50.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20012/watchers", "watchCount": 1, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "New to Spark, so please direct me elsewhere if there is another place for this kind of discussion.\r\n\r\nTo my understanding, schema are ordered *named* structures however it seems the names are not being used when reading files with headers.\r\n\r\nI had a quick look at the DataFrameReader code and it seems like it might not be too hard to\r\na) let the schema set the \"global\" order of the columns\r\nb) per file, map the columns *by name* to the schema ordering and apply the types on load.\r\n\r\nA simple way of saying this is that the schema is an ordered dictionary and the files with headers only define dictionaries.\r\n\r\nA typical example showing what I think are the implications of this problem: \r\n\r\n{code}\r\nIn [248]: a = spark.read.csv('./data/test.csv.gz', header=True, inferSchema=True).toPandas()\r\n\r\nIn [249]: b = spark.read.csv('./data/0.csv.gz', header=True, inferSchema=True).toPandas()\r\n\r\nIn [250]: d = pd.concat([a, b])\r\n\r\nIn [251]: df = spark.read.csv('./data/{test,0}.csv.gz', header=True, inferSchema=True).toPandas()\r\n\r\nIn [252]: df[['b', 'c', 'd', 'e']] = df[['b', 'c', 'd', 'e']].astype(float)\r\n\r\nIn [253]: a\r\nOut[253]:\r\n      a         b         e         d         c\r\n0  test -0.874197  0.168660 -0.948726  0.479723\r\n1  test  1.124383  0.620870  0.159186  0.993676\r\n2  test -1.429108 -0.048814 -0.057273 -1.331702\r\n\r\nIn [254]: b\r\nOut[254]:\r\n   a         b         c         d         e\r\n0  0 -1.671828 -1.259530  0.905029  0.487244\r\n1  0 -0.024553 -1.750904  0.004466  1.978049\r\n2  0  1.686806  0.175431  0.677609 -0.851670\r\n\r\nIn [255]: d\r\nOut[255]:\r\n      a         b         c         d         e\r\n0  test -0.874197  0.479723 -0.948726  0.168660\r\n1  test  1.124383  0.993676  0.159186  0.620870\r\n2  test -1.429108 -1.331702 -0.057273 -0.048814\r\n0     0 -1.671828 -1.259530  0.905029  0.487244\r\n1     0 -0.024553 -1.750904  0.004466  1.978049\r\n2     0  1.686806  0.175431  0.677609 -0.851670\r\n\r\nIn [256]: df\r\nOut[256]:\r\n      a         b         c         d         e\r\n0  test -0.874197  0.168660 -0.948726  0.479723\r\n1  test  1.124383  0.620870  0.159186  0.993676\r\n2  test -1.429108 -0.048814 -0.057273 -1.331702\r\n3     0 -1.671828 -1.259530  0.905029  0.487244\r\n4     0 -0.024553 -1.750904  0.004466  1.978049\r\n5     0  1.686806  0.175431  0.677609 -0.851670\r\n{code}\r\n\r\nExample also posted here: http://stackoverflow.com/questions/42637497/pyspark-2-1-0-spark-read-csv-scrambles-columns", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322612", "id": "12322612", "name": "Input/Output"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057243", "id": "13057243", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20011", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20011/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 21 13:24:20 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T13:25:05.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "chris snow", "name": "snowch", "self": "https://issues.apache.org/jira/rest/api/2/user?username=snowch", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snowch&avatarId=21805", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snowch&avatarId=21805", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=snowch&avatarId=21805", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snowch&avatarId=21805"}, "emailAddress": "chsnow123 at gmail dot com", "key": "snowch", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "inconsistent terminology in als api docs and tutorial", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_85976181_*|*_3_*:*_1_*:*_191649448_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-18 08:34:51.697", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "chris snow", "name": "snowch", "self": "https://issues.apache.org/jira/rest/api/2/user?username=snowch", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snowch&avatarId=21805", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snowch&avatarId=21805", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=snowch&avatarId=21805", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snowch&avatarId=21805"}, "emailAddress": "chsnow123 at gmail dot com", "key": "snowch", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "chris snow", "name": "snowch", "self": "https://issues.apache.org/jira/rest/api/2/user?username=snowch", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=snowch&avatarId=21805", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=snowch&avatarId=21805", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=snowch&avatarId=21805", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=snowch&avatarId=21805"}, "emailAddress": "chsnow123 at gmail dot com", "key": "snowch", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-18T08:17:14.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3cgs7:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-21T13:24:20.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20011/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "https://spark.apache.org/docs/latest/mllib-collaborative-filtering.html :\r\n\r\nbq. rank is the number of latent factors in the model.\r\n\r\nhttps://spark.apache.org/docs/latest/api/scala/index.html#org.apache.spark.mllib.recommendation.ALS$ :\r\n\r\nbq. rank - number of features to use\r\n\r\nAs a noob to ALS, I found this confusing.  Maybe the api docs could state:\r\n\r\nbq. rank - number of features to use (also referred to as the number of latent factors)\r\n\r\nI'm happy to send in a PR.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322621", "description": "Machine learning library", "id": "12322621", "name": "MLlib"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057236", "id": "13057236", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20010", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20010/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Tue Mar 21 02:44:22 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-21T02:44:36.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Zhenhua Wang", "name": "ZenWzh", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ZenWzh", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wzh_zju at 163 dot com", "key": "zenwzh", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Sort information is lost after sort merge join", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_124972963_*|*_3_*:*_1_*:*_121731146_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-19 15:09:12.634", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Zhenhua Wang", "name": "ZenWzh", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ZenWzh", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wzh_zju at 163 dot com", "key": "zenwzh", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Zhenhua Wang", "name": "ZenWzh", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ZenWzh", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "wzh_zju at 163 dot com", "key": "zenwzh", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-18T06:12:38.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cgqf:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-03-21T02:44:22.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20010/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "After sort merge join for inner join, now we only keep left key ordering. However, after inner join, right key has the same value and order as left key. So if we need another smj on right key, we will unnecessarily add a sort which causes additional cost.\r\n\r\nAs a more complicated example, A join B on A.key = B.key join C on B.key = C.key join D on A.key = D.key. We will unnecessarily add a sort on B.key when join \\{A, B\\} and C, and add a sort on A.key when join \\{A, B, C\\} and D.\r\n\r\nTo fix this, we need to propagate all sorted information (equivalent expressions) from bottom up through `outputOrdering` and `SortOrder`.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057228", "id": "13057228", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20009", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20009/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Mar 24 03:53:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-29T19:39:31.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Takeshi Yamamuro", "name": "maropu", "self": "https://issues.apache.org/jira/rest/api/2/user?username=maropu", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maropu&avatarId=29730", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maropu&avatarId=29730", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=maropu&avatarId=29730", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maropu&avatarId=29730"}, "emailAddress": "yamamuro at apache dot org", "key": "maropu", "active": true, "timeZone": "Asia/Tokyo"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Use user-friendly DDL formats for defining a schema  in functions.from_json", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_517525755_*|*_3_*:*_1_*:*_488752968_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-21 20:29:03.655", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Takeshi Yamamuro", "name": "maropu", "self": "https://issues.apache.org/jira/rest/api/2/user?username=maropu", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maropu&avatarId=29730", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maropu&avatarId=29730", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=maropu&avatarId=29730", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maropu&avatarId=29730"}, "emailAddress": "yamamuro at apache dot org", "key": "maropu", "active": true, "timeZone": "Asia/Tokyo"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Takeshi Yamamuro", "name": "maropu", "self": "https://issues.apache.org/jira/rest/api/2/user?username=maropu", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maropu&avatarId=29730", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maropu&avatarId=29730", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=maropu&avatarId=29730", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maropu&avatarId=29730"}, "emailAddress": "yamamuro at apache dot org", "key": "maropu", "active": true, "timeZone": "Asia/Tokyo"}, "created": "2017-03-18T04:07:43.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cgpb:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-29T19:39:02.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20009/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "In https://issues.apache.org/jira/browse/SPARK-19830, we add a new API in the DDL parser to convert a DDL string into a schema. Then, we can use DDL formats in existing some APIs, e.g., functions.from_json https://github.com/apache/spark/blob/master/sql/core/src/main/scala/org/apache/spark/sql/functions.scala#L3062.\r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057223", "id": "13057223", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20008", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20008/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 00:09:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-23T00:09:09.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "Xiao Li", "name": "smilegator", "self": "https://issues.apache.org/jira/rest/api/2/user?username=smilegator", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smilegator&avatarId=25131", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smilegator&avatarId=25131", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=smilegator&avatarId=25131", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smilegator&avatarId=25131"}, "emailAddress": "gatorsmile at gmail dot com", "key": "smilegator", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "hiveContext.emptyDataFrame.except(hiveContext.emptyDataFrame).count() returns 1", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-18 13:47:56.007", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Ravindra Bajpai", "name": "ravindra.bajpai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ravindra.bajpai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "ravindra dot bajpai at gmail dot com", "key": "ravindra.bajpai", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Ravindra Bajpai", "name": "ravindra.bajpai", "self": "https://issues.apache.org/jira/rest/api/2/user?username=ravindra.bajpai", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "ravindra dot bajpai at gmail dot com", "key": "ravindra.bajpai", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-18T01:47:36.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cgmf:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}, {"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20008/watchers", "watchCount": 4, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "hiveContext.emptyDataFrame.except(hiveContext.emptyDataFrame).count() yields 1 against expected 0.\r\n\r\nThis was not the case with spark 1.5.2. This is an api change from usage point of view and hence I consider this as a bug. May be a boundary case, not sure.\r\n\r\nWork around - For now I check the counts != 0 before this operation. Not good for performance. Hence creating a jira to track it.\r\n\r\nAs Young Zhang explained in reply to my mail - \r\nStarting from Spark 2, these kind of operation are implemented in left anti join, instead of using RDD operation directly.\r\n\r\nSame issue also on sqlContext.\r\n\r\nscala> spark.version\r\nres25: String = 2.0.2\r\n\r\nspark.sqlContext.emptyDataFrame.except(spark.sqlContext.emptyDataFrame).explain(true)\r\n== Physical Plan ==\r\n*HashAggregate(keys=[], functions=[], output=[])\r\n+- Exchange SinglePartition\r\n   +- *HashAggregate(keys=[], functions=[], output=[])\r\n      +- BroadcastNestedLoopJoin BuildRight, LeftAnti, false\r\n         :- Scan ExistingRDD[]\r\n         +- BroadcastExchange IdentityBroadcastMode\r\n            +- Scan ExistingRDD[]\r\n\r\nThis arguably means a bug. But my guess is liking the logic of comparing NULL = NULL, should it return true or false, causing this kind of confusion. \r\n", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057210", "id": "13057210", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20007", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20007/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Mar 18 18:10:39 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-18T18:10:39.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Make SparkR apply() functions robust to workers that return empty data.frame", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-18 18:10:39.459", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Hossein Falaki", "name": "falaki", "self": "https://issues.apache.org/jira/rest/api/2/user?username=falaki", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "falaki at gmail dot com", "key": "falaki", "active": true, "timeZone": "America/Los_Angeles"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Hossein Falaki", "name": "falaki", "self": "https://issues.apache.org/jira/rest/api/2/user?username=falaki", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "falaki at gmail dot com", "key": "falaki", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2017-03-17T21:43:17.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cgdj:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20007/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "When using {{gapply()}} (or other members of {{apply()}} family) with a schema, Spark will try to parse data returned form the R process on each worker as Spark DataFrame Rows based on the schema. In this case our provided schema suggests that we have six column. When an R worker returns results to JVM, SparkSQL will try to access its columns one by one and cast them to proper types. If R worker returns nothing, JVM will throw {{ArrayIndexOutOfBoundsException}} exception.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12325400", "description": "R language support", "id": "12325400", "name": "SparkR"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057170", "id": "13057170", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20006", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20006/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Sat Mar 18 04:42:22 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-18T04:42:46.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Separate threshold for broadcast and shuffled hash join", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-18 04:27:52.955", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Zhan Zhang", "name": "zhzhan", "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhzhan", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "zhazhan at gmail dot com", "key": "zhzhan", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Zhan Zhang", "name": "zhzhan", "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhzhan", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "zhazhan at gmail dot com", "key": "zhzhan", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-17T20:23:32.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cg8n:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20006/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Currently both canBroadcast and canBuildLocalHashMap use the same configuration: AUTO_BROADCASTJOIN_THRESHOLD. \r\n\r\nBut the memory model may be different. For broadcast, currently the hash map is always build on heap. For shuffledHashJoin, the hash map may be build on heap(longHash), or off heap(other map if off heap is enabled). The same configuration makes the configuration hard to tune (how to allocate memory onheap/offheap). Propose to use different configuration. Please comments whether it is reasonable.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057148", "id": "13057148", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20005", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20005/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Apr 07 08:17:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-07T08:26:58.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "There is no \"Newline\" in UI in describtion ", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-03-18 10:14:10.46", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Egor Pahomov", "name": "epahomov", "self": "https://issues.apache.org/jira/rest/api/2/user?username=epahomov", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "pahomov dot egor at gmail dot com", "key": "epahomov", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Egor Pahomov", "name": "epahomov", "self": "https://issues.apache.org/jira/rest/api/2/user?username=epahomov", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "pahomov dot egor at gmail dot com", "key": "epahomov", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-17T20:20:37.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/5", "name": "Trivial", "id": "5"}, "customfield_12311620": null, "customfield_12311820": "0|i3cg8f:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20005/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "4.0", "status": {"statusCategory": {"name": "In Progress", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4", "id": 4, "key": "indeterminate", "colorName": "yellow"}, "description": "This issue is being actively worked on at the moment by the assignee.", "self": "https://issues.apache.org/jira/rest/api/2/status/3", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png", "id": "3", "name": "In Progress"}, "description": "There is no \"newline\" in UI in describtion: https://ibb.co/bLp2yv", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322616", "id": "12322616", "name": "Web UI"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057147", "id": "13057147", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20004", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20004/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Thu Mar 23 08:26:07 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-03-23T08:26:07.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Spark thrift server ovewrites spark.app.name", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_476109751_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-18 10:17:08.633", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "Egor Pahomov", "name": "epahomov", "self": "https://issues.apache.org/jira/rest/api/2/user?username=epahomov", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "pahomov dot egor at gmail dot com", "key": "epahomov", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Egor Pahomov", "name": "epahomov", "self": "https://issues.apache.org/jira/rest/api/2/user?username=epahomov", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "pahomov dot egor at gmail dot com", "key": "epahomov", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-17T20:10:57.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": null, "customfield_12311820": "0|i3cg7j:", "versions": [{"archived": false, "name": "2.1.0", "self": "https://issues.apache.org/jira/rest/api/2/version/12335644", "releaseDate": "2016-12-18", "released": true, "id": "12335644"}], "resolutiondate": "2017-03-23T08:26:07.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20004/watchers", "watchCount": 2, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "{code}\r\nexport SPARK_YARN_APP_NAME=\"ODBC server $host\"\r\n\r\n/spark/sbin/start-thriftserver.sh --conf spark.yarn.queue=spark.client.$host --conf spark.app.name=\"ODBC server $host\"\r\n{code}\r\n\r\nAnd spark-defaults.conf contains: \r\n{code}\r\nspark.app.name \"ODBC server spark01\"\r\n{code}\r\n\r\nStill name in yarn is \"Thrift JDBC/ODBC Server\"", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/8", "id": "8", "name": "Not A Problem", "description": "The described issue is not actually a problem - it is as designed."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057143", "id": "13057143", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20003", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20003/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Wed Apr 05 00:52:03 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-04-05T00:52:03.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": {"displayName": "yuhao yang", "name": "yuhaoyan", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yuhaoyan", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "yuhao dot yang at intel dot com", "key": "yuhaoyan", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "FPGrowthModel setMinConfidence should affect rules generation and transform", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": "1_*:*_1_*:*_166611559_*|*_3_*:*_1_*:*_1410991880_*|*_5_*:*_1_*:*_0", "customfield_12310220": "2017-03-19 16:55:24.01", "issuetype": {"name": "Bug", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/bug.png", "subtask": false, "id": "1", "description": "A problem which impairs or prevents the functions of the product."}, "timeestimate": null, "creator": {"displayName": "yuhao yang", "name": "yuhaoyan", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yuhaoyan", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "yuhao dot yang at intel dot com", "key": "yuhaoyan", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "yuhao yang", "name": "yuhaoyan", "self": "https://issues.apache.org/jira/rest/api/2/user?username=yuhaoyan", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "yuhao dot yang at intel dot com", "key": "yuhaoyan", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-17T18:38:40.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/4", "name": "Minor", "id": "4"}, "customfield_12311620": {"displayName": "Joseph K. Bradley", "name": "josephkb", "self": "https://issues.apache.org/jira/rest/api/2/user?username=josephkb", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=josephkb&avatarId=22041", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=josephkb&avatarId=22041", "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=josephkb&avatarId=22041", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=josephkb&avatarId=22041"}, "emailAddress": "joseph at databricks dot com", "key": "josephkb", "active": true, "timeZone": "America/New_York"}, "customfield_12311820": "0|i3cfyv:", "versions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "resolutiondate": "2017-04-05T00:52:03.000+0000", "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20003/watchers", "watchCount": 3, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "Done", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green"}, "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "self": "https://issues.apache.org/jira/rest/api/2/status/5", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "id": "5", "name": "Resolved"}, "description": "I was doing some test and find the issue. FPGrowthModel setMinConfidence should affect rules generation and transform. \r\nCurrently associationRules in FPGrowthModel is a lazy val and setMinConfidence in FPGrowthModel has no impact once associationRules got computed .", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": [{"released": false, "self": "https://issues.apache.org/jira/rest/api/2/version/12338275", "archived": false, "id": "12338275", "name": "2.2.0"}], "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12324500", "description": "Features under the spark.ml package", "id": "12324500", "name": "ML"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "name": "Fixed", "description": "A fix for this issue is checked into the tree and tested."}}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057104", "id": "13057104", "expand": "operations,editmeta,changelog,transitions,renderedFields"}, {"key": "SPARK-20002", "fields": {"labels": [], "customfield_12310420": "9223372036854775807", "lastViewed": null, "customfield_12312120": null, "customfield_12312121": null, "customfield_10010": null, "votes": {"hasVoted": false, "self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20002/votes", "votes": 0}, "customfield_12312520": null, "customfield_12312521": "Fri Jun 02 21:19:53 UTC 2017", "customfield_12312720": null, "environment": null, "timespent": null, "customfield_12311120": null, "duedate": null, "updated": "2017-06-02T21:19:53.000+0000", "subtasks": [], "progress": {"progress": 0, "total": 0}, "customfield_12312422": null, "customfield_12312420": null, "customfield_12312220": null, "customfield_12312320": null, "customfield_12312321": null, "customfield_12312322": null, "customfield_12312323": null, "aggregatetimeoriginalestimate": null, "customfield_12312325": null, "customfield_12312326": null, "assignee": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312327": null, "summary": "Add support for unions between streaming and batch datasets", "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "customfield_12310222": null, "customfield_12310220": "2017-06-02 21:19:53.943", "issuetype": {"name": "Improvement", "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/improvement.png", "subtask": false, "id": "4", "description": "An improvement or enhancement to an existing feature or task."}, "timeestimate": null, "creator": {"displayName": "Leon Pham", "name": "leonp92", "self": "https://issues.apache.org/jira/rest/api/2/user?username=leonp92", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "leon dot pham at thehumangeo dot com", "key": "leonp92", "active": true, "timeZone": "Etc/UTC"}, "customfield_12310290": null, "customfield_12310291": null, "issuelinks": [], "customfield_12312026": null, "customfield_12312024": null, "customfield_12312023": null, "customfield_12312022": null, "customfield_12312333": null, "customfield_12312332": null, "customfield_12312331": null, "customfield_12312330": null, "customfield_12312337": null, "customfield_12312336": null, "customfield_12312335": null, "customfield_12312334": null, "customfield_12312339": null, "customfield_12312338": null, "customfield_12312620": [], "aggregateprogress": {"progress": 0, "total": 0}, "reporter": {"displayName": "Leon Pham", "name": "leonp92", "self": "https://issues.apache.org/jira/rest/api/2/user?username=leonp92", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452", "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452"}, "emailAddress": "leon dot pham at thehumangeo dot com", "key": "leonp92", "active": true, "timeZone": "Etc/UTC"}, "created": "2017-03-17T18:07:03.000+0000", "aggregatetimespent": null, "customfield_12312324": null, "customfield_12312823": null, "aggregatetimeestimate": null, "priority": {"iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.png", "self": "https://issues.apache.org/jira/rest/api/2/priority/3", "name": "Major", "id": "3"}, "customfield_12311620": null, "customfield_12311820": "0|i3cfvj:", "versions": [{"archived": false, "name": "2.0.2", "self": "https://issues.apache.org/jira/rest/api/2/version/12338301", "releaseDate": "2016-11-14", "released": true, "id": "12338301"}], "resolutiondate": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12315420", "avatarUrls": {"24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12315420&avatarId=27346", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12315420&avatarId=27346", "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12315420&avatarId=27346", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12315420&avatarId=27346"}, "id": "12315420", "key": "SPARK", "name": "Spark"}, "customfield_12310300": null, "workratio": -1, "customfield_12310250": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/SPARK-20002/watchers", "watchCount": 5, "isWatching": false}, "customfield_12312340": null, "customfield_12312341": null, "fixVersions": [], "customfield_12311020": null, "customfield_12311024": null, "customfield_12310310": "0.0", "status": {"statusCategory": {"name": "To Do", "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray"}, "description": "The issue is open and ready for the assignee to start work on it.", "self": "https://issues.apache.org/jira/rest/api/2/status/1", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "id": "1", "name": "Open"}, "description": "Currently unions between streaming datasets and batch datasets are not supported.", "timeoriginalestimate": null, "customfield_12310920": "9223372036854775807", "customfield_12310921": null, "customfield_12310320": null, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12322623", "description": "Spark SQL module", "id": "12322623", "name": "SQL"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12331043", "description": "Spark Streaming with DataFrames, Datasets and SQL", "id": "12331043", "name": "Structured Streaming"}], "resolution": null}, "self": "https://issues.apache.org/jira/rest/api/2/issue/13057089", "id": "13057089", "expand": "operations,editmeta,changelog,transitions,renderedFields"}], "total": 20850, "startAt": 1100, "maxResults": 100, "expand": "schema,names"}